<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad-weaver documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad-weaver documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  PaletteComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/mixer/palette/palette.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-palette</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./palette.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./palette.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#canvas" >canvas</a>
                            </li>
                            <li>
                                <a href="#canvas_zndx" >canvas_zndx</a>
                            </li>
                            <li>
                                <a href="#connectionSubscriptions" >connectionSubscriptions</a>
                            </li>
                            <li>
                                <a href="#cx" >cx</a>
                            </li>
                            <li>
                                <a href="#default_cell_size" >default_cell_size</a>
                            </li>
                            <li>
                                <a href="#last" >last</a>
                            </li>
                            <li>
                                <a href="#moveSubscription" >moveSubscription</a>
                            </li>
                            <li>
                                <a href="#noteSubscriptions" >noteSubscriptions</a>
                            </li>
                            <li>
                                <a href="#operationSubscriptions" >operationSubscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#pedals" >pedals</a>
                            </li>
                            <li>
                                <a href="#pointer_events" >pointer_events</a>
                            </li>
                            <li>
                                <a href="#scale" >scale</a>
                            </li>
                            <li>
                                <a href="#scale_string" >scale_string</a>
                            </li>
                            <li>
                                <a href="#scratch_pad" >scratch_pad</a>
                            </li>
                            <li>
                                <a href="#selecting_connection" >selecting_connection</a>
                            </li>
                            <li>
                                <a href="#selection" >selection</a>
                            </li>
                            <li>
                                <a href="#shape_bounds" >shape_bounds</a>
                            </li>
                            <li>
                                <a href="#shape_vtxs" >shape_vtxs</a>
                            </li>
                            <li>
                                <a href="#snack_bounds" >snack_bounds</a>
                            </li>
                            <li>
                                <a href="#snack_message" >snack_message</a>
                            </li>
                            <li>
                                <a href="#subdraftSubscriptions" >subdraftSubscriptions</a>
                            </li>
                            <li>
                                <a href="#vc" >vc</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#viewport" >viewport</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addOperation" >addOperation</a>
                            </li>
                            <li>
                                <a href="#addSubdraftFromDraft" >addSubdraftFromDraft</a>
                            </li>
                            <li>
                                <a href="#addTimelineState" >addTimelineState</a>
                            </li>
                            <li>
                                <a href="#calculateInitialLocaiton" >calculateInitialLocaiton</a>
                            </li>
                            <li>
                                <a href="#changeDesignmode" >changeDesignmode</a>
                            </li>
                            <li>
                                <a href="#clearCanvas" >clearCanvas</a>
                            </li>
                            <li>
                                <a href="#clearComponents" >clearComponents</a>
                            </li>
                            <li>
                                <a href="#closeSnackBar" >closeSnackBar</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#computeCellColor" >computeCellColor</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#computeCellValue" >computeCellValue</a>
                            </li>
                            <li>
                                <a href="#computeHeddleValue" >computeHeddleValue</a>
                            </li>
                            <li>
                                <a href="#connectionDragged" >connectionDragged</a>
                            </li>
                            <li>
                                <a href="#connectionMade" >connectionMade</a>
                            </li>
                            <li>
                                <a href="#createAndSetPreview" >createAndSetPreview</a>
                            </li>
                            <li>
                                <a href="#createConnection" >createConnection</a>
                            </li>
                            <li>
                                <a href="#createNote" >createNote</a>
                            </li>
                            <li>
                                <a href="#createOperation" >createOperation</a>
                            </li>
                            <li>
                                <a href="#createSubDraft" >createSubDraft</a>
                            </li>
                            <li>
                                <a href="#deleteNote" >deleteNote</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#designModeChanged" >designModeChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#downloadVisibleDraftsAsBmp" >downloadVisibleDraftsAsBmp</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#downloadVisibleDraftsAsWif" >downloadVisibleDraftsAsWif</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#drawCell" >drawCell</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#drawSelection" >drawSelection</a>
                            </li>
                            <li>
                                <a href="#drawStarted" >drawStarted</a>
                            </li>
                            <li>
                                <a href="#duplicateOperation" >duplicateOperation</a>
                            </li>
                            <li>
                                <a href="#freezePaletteObjects" >freezePaletteObjects</a>
                            </li>
                            <li>
                                <a href="#getCombinedDraft" >getCombinedDraft</a>
                            </li>
                            <li>
                                <a href="#getIntersectingSubdrafts" >getIntersectingSubdrafts</a>
                            </li>
                            <li>
                                <a href="#getIntersectingSubdraftsForPoint" >getIntersectingSubdraftsForPoint</a>
                            </li>
                            <li>
                                <a href="#getPrintableCanvas" >getPrintableCanvas</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getRelativeInterlacement" >getRelativeInterlacement</a>
                            </li>
                            <li>
                                <a href="#getScratchPadBounds" >getScratchPadBounds</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getScratchpadProduct" >getScratchpadProduct</a>
                            </li>
                            <li>
                                <a href="#getSelectionBounds" >getSelectionBounds</a>
                            </li>
                            <li>
                                <a href="#getSubdraftsIntersectingSelection" >getSubdraftsIntersectingSelection</a>
                            </li>
                            <li>
                                <a href="#handleScroll" >handleScroll</a>
                            </li>
                            <li>
                                <a href="#handleWindowScroll" >handleWindowScroll</a>
                            </li>
                            <li>
                                <a href="#loadConnection" >loadConnection</a>
                            </li>
                            <li>
                                <a href="#loadNote" >loadNote</a>
                            </li>
                            <li>
                                <a href="#loadOperation" >loadOperation</a>
                            </li>
                            <li>
                                <a href="#loadSubDraft" >loadSubDraft</a>
                            </li>
                            <li>
                                <a href="#mergeSubdrafts" >mergeSubdrafts</a>
                            </li>
                            <li>
                                <a href="#mouseSelectingDraft" >mouseSelectingDraft</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onConnectionStarted" >onConnectionStarted</a>
                            </li>
                            <li>
                                <a href="#onDeleteOperationCalled" >onDeleteOperationCalled</a>
                            </li>
                            <li>
                                <a href="#onDeleteSubdraftCalled" >onDeleteSubdraftCalled</a>
                            </li>
                            <li>
                                <a href="#onDrag" >onDrag</a>
                            </li>
                            <li>
                                <a href="#onDuplicateOpCalled" >onDuplicateOpCalled</a>
                            </li>
                            <li>
                                <a href="#onDuplicateSubdraftCalled" >onDuplicateSubdraftCalled</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#onEnd" >onEnd</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#onMove" >onMove</a>
                            </li>
                            <li>
                                <a href="#onResize" >onResize</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#onStart" >onStart</a>
                            </li>
                            <li>
                                <a href="#onSubdraftAction" >onSubdraftAction</a>
                            </li>
                            <li>
                                <a href="#onSubdraftNameChange" >onSubdraftNameChange</a>
                            </li>
                            <li>
                                <a href="#onSubdraftViewChange" >onSubdraftViewChange</a>
                            </li>
                            <li>
                                <a href="#operationMoved" >operationMoved</a>
                            </li>
                            <li>
                                <a href="#operationMoveEnded" >operationMoveEnded</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#operationParamChanged" >operationParamChanged</a>
                            </li>
                            <li>
                                <a href="#performAndUpdateDownstream" >performAndUpdateDownstream</a>
                            </li>
                            <li>
                                <a href="#processConnectionEnd" >processConnectionEnd</a>
                            </li>
                            <li>
                                <a href="#processDrawingEnd" >processDrawingEnd</a>
                            </li>
                            <li>
                                <a href="#processSelection" >processSelection</a>
                            </li>
                            <li>
                                <a href="#processShapeEnd" >processShapeEnd</a>
                            </li>
                            <li>
                                <a href="#redrawAllSubdrafts" >redrawAllSubdrafts</a>
                            </li>
                            <li>
                                <a href="#redrawOpenModals" >redrawOpenModals</a>
                            </li>
                            <li>
                                <a href="#removeConnection" >removeConnection</a>
                            </li>
                            <li>
                                <a href="#removeFromViewContainer" >removeFromViewContainer</a>
                            </li>
                            <li>
                                <a href="#removeOperation" >removeOperation</a>
                            </li>
                            <li>
                                <a href="#removePreview" >removePreview</a>
                            </li>
                            <li>
                                <a href="#removeSubdraft" >removeSubdraft</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#removeSubscription" >removeSubscription</a>
                            </li>
                            <li>
                                <a href="#rescale" >rescale</a>
                            </li>
                            <li>
                                <a href="#resubscribe" >resubscribe</a>
                            </li>
                            <li>
                                <a href="#saveNote" >saveNote</a>
                            </li>
                            <li>
                                <a href="#selectionStarted" >selectionStarted</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#setCell" >setCell</a>
                            </li>
                            <li>
                                <a href="#setNoteSubscriptions" >setNoteSubscriptions</a>
                            </li>
                            <li>
                                <a href="#setOperationSubscriptions" >setOperationSubscriptions</a>
                            </li>
                            <li>
                                <a href="#setSubdraftSubscriptions" >setSubdraftSubscriptions</a>
                            </li>
                            <li>
                                <a href="#shapeDragged" >shapeDragged</a>
                            </li>
                            <li>
                                <a href="#shapeStarted" >shapeStarted</a>
                            </li>
                            <li>
                                <a href="#startSnackBar" >startSnackBar</a>
                            </li>
                            <li>
                                <a href="#subdraftDropped" >subdraftDropped</a>
                            </li>
                            <li>
                                <a href="#subdraftMoved" >subdraftMoved</a>
                            </li>
                            <li>
                                <a href="#subdraftStarted" >subdraftStarted</a>
                            </li>
                            <li>
                                <a href="#subdraftToPlayer" >subdraftToPlayer</a>
                            </li>
                            <li>
                                <a href="#unfreezePaletteObjects" >unfreezePaletteObjects</a>
                            </li>
                            <li>
                                <a href="#unsubscribeFromAll" >unsubscribeFromAll</a>
                            </li>
                            <li>
                                <a href="#updateAttachedComponents" >updateAttachedComponents</a>
                            </li>
                            <li>
                                <a href="#updateSnackBar" >updateSnackBar</a>
                            </li>
                        </ul>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#onDesignModeChange" >onDesignModeChange</a>
                            </li>
                            <li>
                                <a href="#onDraftToPlayer" >onDraftToPlayer</a>
                            </li>
                        </ul>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <h6><b>HostListeners</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#mousedown" >mousedown</a>
                            </li>
                            <li>
                                <a href="#mouseleave" >mouseleave</a>
                            </li>
                            <li>
                                <a href="#mousemove" >mousemove</a>
                            </li>
                            <li>
                                <a href="#mouseup" >mouseup</a>
                            </li>
                            <li>
                                <a href="#window:resize" >window:resize</a>
                            </li>
                        </ul>
                    </td>
                </tr>

        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(dm: DesignmodesService, tree: TreeService, inks: <a href="../injectables/InkService.html" target="_self">InkService</a>, layers: <a href="../injectables/LayersService.html" target="_self">LayersService</a>, resolver: <a href="https://angular.io/api/core/ComponentFactoryResolver" target="_blank">ComponentFactoryResolver</a>, fs: FileService, _snackBar: MatSnackBar, viewport: <a href="../injectables/ViewportService.html" target="_self">ViewportService</a>, notes: NotesService, pedals: <a href="../injectables/PedalsService.html" target="_self">PedalsService</a>, ss: StateService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="134" class="link-to-prism">src/app/mixer/palette/palette.component.ts:134</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructs a palette object. The palette supports drawing without components and dynamically
creates components from shapes and scribbles on the canvas.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dm</td>
                                                  
                                                        <td>
                                                                    <code>DesignmodesService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>a reference to the service containing the current design modes and selections</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>tree</td>
                                                  
                                                        <td>
                                                                    <code>TreeService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>reference to the objects and relationships within this palette</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>inks</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/InkService.html" target="_self" >InkService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>a reference to the service manaing the available inks</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>layers</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LayersService.html" target="_self" >LayersService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>a reference to the sercie managing the view layers (z-indexes) of components</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>resolver</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/ComponentFactoryResolver" target="_blank" >ComponentFactoryResolver</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>a reference to the factory component for dynamically generating components</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>fs</td>
                                                  
                                                        <td>
                                                                    <code>FileService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>file service for saving and loading files</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>_snackBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>_snackBar a reference to the snackbar component that shows data on move and select</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>viewport</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ViewportService.html" target="_self" >ViewportService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>reference to the window and palette variables and where the viewer is currently lookin</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>notes</td>
                                                  
                                                        <td>
                                                                    <code>NotesService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>reference the service that stores all the tagged comments</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>pedals</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PedalsService.html" target="_self" >PedalsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>ss</td>
                                                  
                                                        <td>
                                                                    <code>StateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onDesignModeChange"></a>
                        <b>onDesignModeChange</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/mixer/palette/palette.component.ts:38</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>a reference to the default patterns (used for fill operations)</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onDraftToPlayer"></a>
                        <b>onDraftToPlayer</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/mixer/palette/palette.component.ts:39</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3>HostListeners</h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mousedown"></a>
                    <span class="name">
                        <span ><b>mousedown</b></span>
                        <a href="#mousedown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mousedown(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1960"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1960</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>handles actions to take when the mouse is down inside of the palette</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the mousedown event</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mouseleave"></a>
                    <span class="name">
                        <span ><b>mouseleave</b></span>
                        <a href="#mouseleave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mouseleave(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2098"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2098</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when the mouse is up or leaves the boundary of the view</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mousemove"></a>
                    <span class="name">
                        <span ><b>mousemove</b></span>
                        <a href="#mousemove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mousemove(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2017"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2017</a></div>
                </td>
            </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mouseup"></a>
                    <span class="name">
                        <span ><b>mouseup</b></span>
                        <a href="#mouseup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mouseup(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2098"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2098</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when the mouse is up or leaves the boundary of the view</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="window:resize"></a>
                    <span class="name">
                        <span ><b>window:resize</b></span>
                        <a href="#window:resize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <i>Arguments : </i><code>'$event' </code>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>window:resize(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1945"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1945</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>update the viewport when the window is resized</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addOperation"></a>
                    <span class="name">
                        <span ><b>addOperation</b></span>
                        <a href="#addOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addOperation(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="365"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:365</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>//  * called anytime an operation is added. Adds the operation to the tree.
//  * @param name the name of the operation to add
//</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addSubdraftFromDraft"></a>
                    <span class="name">
                        <span ><b>addSubdraftFromDraft</b></span>
                        <a href="#addSubdraftFromDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addSubdraftFromDraft(d: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="795"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:795</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called from upload or import events</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addTimelineState"></a>
                    <span class="name">
                        <span ><b>addTimelineState</b></span>
                        <a href="#addTimelineState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addTimelineState()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="303"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:303</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>adds a state to the timeline. This should be called
each time a user performs an action that they should be able to undo/redo</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateInitialLocaiton"></a>
                    <span class="name">
                        <span ><b>calculateInitialLocaiton</b></span>
                        <a href="#calculateInitialLocaiton"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>calculateInitialLocaiton(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1475"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1475</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calculates the default topleft position for this node based on the width and size of its parent and/or neighbors</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the id of the component to position</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>

                    </div>
                    <div class="io-description">
                        <p>a promise for the updated bounds</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changeDesignmode"></a>
                    <span class="name">
                        <span ><b>changeDesignmode</b></span>
                        <a href="#changeDesignmode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>changeDesignmode(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="456"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:456</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when the palette needs to change the design mode, emits output to parent</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the mode to switchh to</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearCanvas"></a>
                    <span class="name">
                        <span ><b>clearCanvas</b></span>
                        <a href="#clearCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearCanvas()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2619"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2619</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearComponents"></a>
                    <span class="name">
                        <span ><b>clearComponents</b></span>
                        <a href="#clearComponents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearComponents()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when a new file is loaded</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeSnackBar"></a>
                    <span class="name">
                        <span ><b>closeSnackBar</b></span>
                        <a href="#closeSnackBar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeSnackBar()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="447"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:447</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called to close the snackbar</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeCellColor"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>computeCellColor</b></span>
                        <a href="#computeCellColor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>computeCellColor(ink: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, over: <a href="../classes/Cell.html" target="_self">Cell</a>, under: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1030"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1030</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called by drawcell. Draws on screen based on the current ink</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ink</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>over</td>
                                    <td>
                                                <code><a href="../classes/Cell.html" target="_self" >Cell</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>under</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeCellValue"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>computeCellValue</b></span>
                        <a href="#computeCellValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>computeCellValue(ink: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, over: <a href="../classes/Cell.html" target="_self">Cell</a>, under: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1046"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1046</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>applies the filter betetween over and under and returns the result</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ink</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the ink with which to compute the transition</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>over</td>
                                    <td>
                                                <code><a href="../classes/Cell.html" target="_self" >Cell</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the value of the primary (top) cell</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>under</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the value of the intersecting (bottom) cell</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeHeddleValue"></a>
                    <span class="name">
                        <span ><b>computeHeddleValue</b></span>
                        <a href="#computeHeddleValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>computeHeddleValue(p: <a href="../interfaces/Point.html" target="_self">Point</a>, main: <a href="../components/SubdraftComponent.html" target="_self">SubdraftComponent</a>, isect: <a href="../components/SubdraftComponent.html" target="_self">Array&lt;SubdraftComponent&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2449"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2449</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>p</td>
                                    <td>
                                                <code><a href="../interfaces/Point.html" target="_self" >Point</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>main</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isect</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectionDragged"></a>
                    <span class="name">
                        <span ><b>connectionDragged</b></span>
                        <a href="#connectionDragged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>connectionDragged(mouse: <a href="../interfaces/Point.html" target="_self">Point</a>, shift: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1424"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1424</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>draws when a user is using the mouse to identify an input to a component</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mouse</td>
                                    <td>
                                                <code><a href="../interfaces/Point.html" target="_self" >Point</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the absolute position of the mouse on screen</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>shift</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>boolean representing if shift is pressed as well</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectionMade"></a>
                    <span class="name">
                        <span ><b>connectionMade</b></span>
                        <a href="#connectionMade"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>connectionMade(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1589"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1589</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>emitted from operation when it receives a hit on its connection button, the id refers to the operation id</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createAndSetPreview"></a>
                    <span class="name">
                        <span ><b>createAndSetPreview</b></span>
                        <a href="#createAndSetPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createAndSetPreview(d: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="865"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:865</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>dynamically creates a subdraft component with specific requirements of the intersection, adds its inputs and event listeners, pushes the subdraft to the list of references</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>a Draft object for this component to contain</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/Draft.html" target="_self" >Promise&lt;DraftNode&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>the created subdraft instance</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createConnection"></a>
                    <span class="name">
                        <span ><b>createConnection</b></span>
                        <a href="#createConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createConnection(id_from: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, id_to: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, to_ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="770"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:770</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates a connection component and registers it with the tree</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id_from</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>id_to</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>to_ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type</code>

                    </div>
                    <div class="io-description">
                        <p>the list of all id&#39;s connected to the &quot;to&quot; node</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createNote"></a>
                    <span class="name">
                        <span ><b>createNote</b></span>
                        <a href="#createNote"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createNote()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="497"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:497</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>dynamically creates a a note component</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/NoteComponent.html" target="_self" >NoteComponent</a></code>

                    </div>
                    <div class="io-description">
                        <p>the created note instance</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createOperation"></a>
                    <span class="name">
                        <span ><b>createOperation</b></span>
                        <a href="#createOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createOperation(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="659"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:659</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates an operation component</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the name of the operation this component will perform</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Operation.html" target="_self" >OperationComponent</a></code>

                    </div>
                    <div class="io-description">
                        <p>the OperationComponent created</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createSubDraft"></a>
                    <span class="name">
                        <span ><b>createSubDraft</b></span>
                        <a href="#createSubDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createSubDraft(d: <a href="../interfaces/Draft.html" target="_self">Draft</a>, parent: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="570"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:570</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>dynamically creates a subdraft component, adds its inputs and event listeners, pushes the subdraft to the list of references</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>a Draft object for this component to contain</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>parent</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >Promise&lt;SubdraftComponent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>the created subdraft instance</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteNote"></a>
                    <span class="name">
                        <span ><b>deleteNote</b></span>
                        <a href="#deleteNote"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteNote(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="551"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:551</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="designModeChanged"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>designModeChanged</b></span>
                        <a href="#designModeChanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>designModeChanged()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="908"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:908</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called from mixer when it receives a change from the design mode tool or keyboard press
triggers view mode changes required for this mode</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadVisibleDraftsAsBmp"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>downloadVisibleDraftsAsBmp</b></span>
                        <a href="#downloadVisibleDraftsAsBmp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>downloadVisibleDraftsAsBmp()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="332"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:332</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this cycles through all subdrafts and calls the download call on any subdrafts
who are currently visible.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadVisibleDraftsAsWif"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>downloadVisibleDraftsAsWif</b></span>
                        <a href="#downloadVisibleDraftsAsWif"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>downloadVisibleDraftsAsWif()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="347"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:347</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this cycles through all subdrafts and calls the download call on any subdrafts
who are currently visible.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawCell"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>drawCell</b></span>
                        <a href="#drawCell"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>drawCell(ndx: <a href="../interfaces/Interlacement.html" target="_self">Interlacement</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1090"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1090</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>draw the cell at position ndx</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>(i,j)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawSelection"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>drawSelection</b></span>
                        <a href="#drawSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>drawSelection(ndx: <a href="../interfaces/Interlacement.html" target="_self">Interlacement</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="937"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:937</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>draws the selection atop the view
todo: update this to account for scroll</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawStarted"></a>
                    <span class="name">
                        <span ><b>drawStarted</b></span>
                        <a href="#drawStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>drawStarted()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1840"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1840</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>clears the scratchpad for the new drawing event</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="duplicateOperation"></a>
                    <span class="name">
                        <span ><b>duplicateOperation</b></span>
                        <a href="#duplicateOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>duplicateOperation(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: Array<number>, bounds: <a href="../interfaces/Bounds.html" target="_self">Bounds</a>, inlets: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="729"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:729</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>duplicates an operation with the information supplied.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the name of the operation this component will perform</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                            <code>Array&lt;number&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>bounds</td>
                                    <td>
                                                <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>inlets</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the id of the node this has been assigned to</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="freezePaletteObjects"></a>
                    <span class="name">
                        <span ><b>freezePaletteObjects</b></span>
                        <a href="#freezePaletteObjects"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>freezePaletteObjects()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1371"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1371</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>disables selection and pointer events on all</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCombinedDraft"></a>
                    <span class="name">
                        <span ><b>getCombinedDraft</b></span>
                        <a href="#getCombinedDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCombinedDraft(bounds: <a href="../interfaces/Bounds.html" target="_self">Bounds</a>, primary: <a href="../components/SubdraftComponent.html" target="_self">SubdraftComponent</a>, isect: <a href="../components/SubdraftComponent.html" target="_self">Array&lt;SubdraftComponent&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2562"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2562</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates a draft in size bounds that contains all of the computed points of its intersections</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>bounds</td>
                                    <td>
                                                <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the boundary of all the intersections</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>primary</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the primary draft that we are checking for intersections</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>isect</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>an Array of the intersecting components</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIntersectingSubdrafts"></a>
                    <span class="name">
                        <span ><b>getIntersectingSubdrafts</b></span>
                        <a href="#getIntersectingSubdrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getIntersectingSubdrafts(primary: <a href="../components/SubdraftComponent.html" target="_self">SubdraftComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2506"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2506</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get any subdrafts that intersect primary based on checks on their boundaries</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>primary</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getIntersectingSubdraftsForPoint"></a>
                    <span class="name">
                        <span ><b>getIntersectingSubdraftsForPoint</b></span>
                        <a href="#getIntersectingSubdraftsForPoint"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getIntersectingSubdraftsForPoint(p: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2485"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2485</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get any subdrafts that intersect a given screen position</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>p</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the x, y position of this cell</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPrintableCanvas"></a>
                    <span class="name">
                        <span ><b>getPrintableCanvas</b></span>
                        <a href="#getPrintableCanvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPrintableCanvas(obj)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2593"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2593</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>TODO: Update this to get bounds and print all items, not just what&#39;s visible</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>HTMLCanvasElement</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRelativeInterlacement"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getRelativeInterlacement</b></span>
                        <a href="#getRelativeInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRelativeInterlacement(abs: <a href="../interfaces/Interlacement.html" target="_self">Interlacement</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="968"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:968</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Takes an absolute index and returns it to an index relative to the viewport.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>abs</td>
                                    <td>
                                                <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getScratchPadBounds"></a>
                    <span class="name">
                        <span ><b>getScratchPadBounds</b></span>
                        <a href="#getScratchPadBounds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getScratchPadBounds()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1862"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1862</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets the bounds of a drawing on the scratchpad, a drawing is represented by set cells</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;Interlacement&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an object representing the bounds in the format of i, j (the row, column index of the pad)</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getScratchpadProduct"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getScratchpadProduct</b></span>
                        <a href="#getScratchpadProduct"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getScratchpadProduct(ndx: <a href="../interfaces/Interlacement.html" target="_self">Interlacement</a>, ink: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, over: <a href="../classes/Cell.html" target="_self">Cell</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1060"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1060</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when creating a subdraft from the drawing on the screen. Computes the resulting value based on
all intersections with the drawing</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the i,j location of the cell we are checking</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>ink</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the currently selected ink</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>over</td>
                                    <td>
                                                <code><a href="../classes/Cell.html" target="_self" >Cell</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the Cell we are checking against</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>true/false or null</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectionBounds"></a>
                    <span class="name">
                        <span ><b>getSelectionBounds</b></span>
                        <a href="#getSelectionBounds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectionBounds(c1: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, c2: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2526"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2526</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>c1</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>c2</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSubdraftsIntersectingSelection"></a>
                    <span class="name">
                        <span ><b>getSubdraftsIntersectingSelection</b></span>
                        <a href="#getSubdraftsIntersectingSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSubdraftsIntersectingSelection(selection: <a href="../directives/MarqueeComponent.html" target="_self">MarqueeComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2464"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2464</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selection</td>
                                    <td>
                                                <code><a href="../directives/MarqueeComponent.html" target="_self" >MarqueeComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleScroll"></a>
                    <span class="name">
                        <span ><b>handleScroll</b></span>
                        <a href="#handleScroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleScroll(position: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="269"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:269</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when user moves position within viewer</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>position</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleWindowScroll"></a>
                    <span class="name">
                        <span ><b>handleWindowScroll</b></span>
                        <a href="#handleWindowScroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleWindowScroll(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="281"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:281</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when user scrolls the winidow</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>data</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadConnection"></a>
                    <span class="name">
                        <span ><b>loadConnection</b></span>
                        <a href="#loadConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadConnection(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="749"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:749</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates a connection and draws it to screen</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of this node</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadNote"></a>
                    <span class="name">
                        <span ><b>loadNote</b></span>
                        <a href="#loadNote"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadNote(note: Note)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="524"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:524</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>dynamically creates a a note component</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>note</td>
                                    <td>
                                            <code>Note</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/NoteComponent.html" target="_self" >NoteComponent</a></code>

                    </div>
                    <div class="io-description">
                        <p>the created note instance</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadOperation"></a>
                    <span class="name">
                        <span ><b>loadOperation</b></span>
                        <a href="#loadOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadOperation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: Array<any>, inlets: Array<any>, bounds: <a href="../interfaces/Bounds.html" target="_self">Bounds</a>, saved_scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="682"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:682</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>loads an operation with the information supplied.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the name of the operation this component will perform</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>inlets</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>bounds</td>
                                    <td>
                                                <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>saved_scale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        <p>the id of the node this has been assigned to</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadSubDraft"></a>
                    <span class="name">
                        <span ><b>loadSubDraft</b></span>
                        <a href="#loadSubDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadSubDraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, d: <a href="../interfaces/Draft.html" target="_self">Draft</a>, nodep: <a href="../interfaces/NodeComponentProxy.html" target="_self">NodeComponentProxy</a>, draftp: <a href="../interfaces/DraftNodeProxy.html" target="_self">DraftNodeProxy</a>, saved_scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="601"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:601</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>loads a subdraft component from data</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the node id assigned to this element on load</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the draft object to load into this subdraft</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>nodep</td>
                                    <td>
                                                <code><a href="../interfaces/NodeComponentProxy.html" target="_self" >NodeComponentProxy</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the component proxy used to define</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>draftp</td>
                                    <td>
                                                <code><a href="../interfaces/DraftNodeProxy.html" target="_self" >DraftNodeProxy</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>saved_scale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mergeSubdrafts"></a>
                    <span class="name">
                        <span ><b>mergeSubdrafts</b></span>
                        <a href="#mergeSubdrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mergeSubdrafts(primary: <a href="../components/SubdraftComponent.html" target="_self">SubdraftComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2423"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2423</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>merges a collection of subdraft components into the primary component, deletes the merged components</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>primary</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the draft to merge into</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>true or false to describe if a merge took place.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mouseSelectingDraft"></a>
                    <span class="name">
                        <span ><b>mouseSelectingDraft</b></span>
                        <a href="#mouseSelectingDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mouseSelectingDraft(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2035"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2035</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when the operation input is selected and used to draw</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the event object</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="178"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:178</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Gets references to view items and adds to them after the view is initialized</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="209"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:209</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>unsubscribes to all open subscriptions and clears the view component</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="168"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:168</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when palette is initailized</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onConnectionStarted"></a>
                    <span class="name">
                        <span ><b>onConnectionStarted</b></span>
                        <a href="#onConnectionStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onConnectionStarted(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1270"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1270</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>triggers a mode that allows mouse-mouse to be followed by a line.
todo; add code that holds the point on scroll</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>contains event, id of component who called</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDeleteOperationCalled"></a>
                    <span class="name">
                        <span ><b>onDeleteOperationCalled</b></span>
                        <a href="#onDeleteOperationCalled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDeleteOperationCalled(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1136"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1136</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Deletes the subdraft that called this function.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDeleteSubdraftCalled"></a>
                    <span class="name">
                        <span ><b>onDeleteSubdraftCalled</b></span>
                        <a href="#onDeleteSubdraftCalled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDeleteSubdraftCalled(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1126"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1126</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Deletes the subdraft that called this function.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDrag"></a>
                    <span class="name">
                        <span ><b>onDrag</b></span>
                        <a href="#onDrag"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDrag(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2059"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2059</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called form the subscription created on start, checks the index of the location and returns null if its the same</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the event object</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDuplicateOpCalled"></a>
                    <span class="name">
                        <span ><b>onDuplicateOpCalled</b></span>
                        <a href="#onDuplicateOpCalled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDuplicateOpCalled(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1146"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1146</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Duplicates the operation that called this function.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDuplicateSubdraftCalled"></a>
                    <span class="name">
                        <span ><b>onDuplicateSubdraftCalled</b></span>
                        <a href="#onDuplicateSubdraftCalled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDuplicateSubdraftCalled(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1194"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1194</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onEnd"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>onEnd</b></span>
                        <a href="#onEnd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onEnd(event)</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;mouseleave&#x27;, [&#x27;$event&#x27;])<br />@HostListener(&#x27;mouseup&#x27;, [&#x27;$event&#x27;])<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2098"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2098</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when the mouse is up or leaves the boundary of the view</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMove"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>onMove</b></span>
                        <a href="#onMove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onMove(event)</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;mousemove&#x27;, [&#x27;$event&#x27;])<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2017"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2017</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onResize"></a>
                    <span class="name">
                        <span ><b>onResize</b></span>
                        <a href="#onResize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onResize(event)</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;window:resize&#x27;, [&#x27;$event&#x27;])<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1945"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1945</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>update the viewport when the window is resized</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onStart"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>onStart</b></span>
                        <a href="#onStart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onStart(event)</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;mousedown&#x27;, [&#x27;$event&#x27;])<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1960"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1960</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>handles actions to take when the mouse is down inside of the palette</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the mousedown event</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubdraftAction"></a>
                    <span class="name">
                        <span ><b>onSubdraftAction</b></span>
                        <a href="#onSubdraftAction"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubdraftAction(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2249"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2249</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>emitted from a subdraft when an internal action has changeded its value
checks for a child subdraft, recomputes, redraws.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>with attribute id describing the subdraft that called this</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubdraftNameChange"></a>
                    <span class="name">
                        <span ><b>onSubdraftNameChange</b></span>
                        <a href="#onSubdraftNameChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubdraftNameChange(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1403"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1403</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called when an subdraft updates its show/hide value</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubdraftViewChange"></a>
                    <span class="name">
                        <span ><b>onSubdraftViewChange</b></span>
                        <a href="#onSubdraftViewChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubdraftViewChange(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1394"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1394</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called when an subdraft updates its show/hide value</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationMoved"></a>
                    <span class="name">
                        <span ><b>operationMoved</b></span>
                        <a href="#operationMoved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>operationMoved(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2296"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2296</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called from an operatiino cmoponent when it is dragged</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>(id, point of toplleft)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationMoveEnded"></a>
                    <span class="name">
                        <span ><b>operationMoveEnded</b></span>
                        <a href="#operationMoveEnded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>operationMoveEnded(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2312"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2312</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called from an operation component when it is done moving
this allows us to not write postioin continuously, but just once on end</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>(id, point of toplleft)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationParamChanged"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>operationParamChanged</b></span>
                        <a href="#operationParamChanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>operationParamChanged(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2271"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2271</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>emitted from an operatioin when its param has changed. This is automatically called on load
which is annoying because it recomputes everything!
checks for a child subdraft, recomputes, redraws.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>with attribute id describing the operation that called this</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performAndUpdateDownstream"></a>
                    <span class="name">
                        <span ><b>performAndUpdateDownstream</b></span>
                        <a href="#performAndUpdateDownstream"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>performAndUpdateDownstream(op_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1534"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1534</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this calls a function for an operation to perform and then subsequently calls all children
to recalculate. After each calculation, it redraws and or creates any new subdrafts</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processConnectionEnd"></a>
                    <span class="name">
                        <span ><b>processConnectionEnd</b></span>
                        <a href="#processConnectionEnd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processConnectionEnd()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1452"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1452</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>resets the view when a connection event ends</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processDrawingEnd"></a>
                    <span class="name">
                        <span ><b>processDrawingEnd</b></span>
                        <a href="#processDrawingEnd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processDrawingEnd()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1889"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1889</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>handles checks and actions to take when drawing event ends
gets the boudary of drawn segment and creates a subdraft containing that drawing
if the drawing sits on top of an existing subdraft, merge the drawing into that subdraft (extending the original if neccessary)</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processSelection"></a>
                    <span class="name">
                        <span ><b>processSelection</b></span>
                        <a href="#processSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processSelection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2153"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2153</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when a selection operation ends. Checks to see if this selection intersects with any subdrafts and
merges and or splits as required.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processShapeEnd"></a>
                    <span class="name">
                        <span ><b>processShapeEnd</b></span>
                        <a href="#processShapeEnd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>processShapeEnd()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1765"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1765</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts the shape on screen to a component</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redrawAllSubdrafts"></a>
                    <span class="name">
                        <span ><b>redrawAllSubdrafts</b></span>
                        <a href="#redrawAllSubdrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>redrawAllSubdrafts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2632"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2632</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redrawOpenModals"></a>
                    <span class="name">
                        <span ><b>redrawOpenModals</b></span>
                        <a href="#redrawOpenModals"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>redrawOpenModals()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2623"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2623</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeConnection"></a>
                    <span class="name">
                        <span ><b>removeConnection</b></span>
                        <a href="#removeConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeConnection(obj: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1613"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1613</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called when a connection is explicitly deleted</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeFromViewContainer"></a>
                    <span class="name">
                        <span ><b>removeFromViewContainer</b></span>
                        <a href="#removeFromViewContainer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeFromViewContainer(ref: <a href="https://angular.io/api/core/ViewRef" target="_blank">ViewRef</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="292"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:292</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>removes the view associate with this view ref</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ref</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/ViewRef" target="_blank" >ViewRef</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeOperation"></a>
                    <span class="name">
                        <span ><b>removeOperation</b></span>
                        <a href="#removeOperation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeOperation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="836"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:836</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this calls the tree to delete the operation.
the tree returns a list of all nodes deleted and this function updates the view to remove those elements</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removePreview"></a>
                    <span class="name">
                        <span ><b>removePreview</b></span>
                        <a href="#removePreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removePreview()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="893"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:893</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>destorys the preview component</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeSubdraft"></a>
                    <span class="name">
                        <span ><b>removeSubdraft</b></span>
                        <a href="#removeSubdraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeSubdraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="812"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:812</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a subdraft can only have an operation for a parent
removes the subdraft sent to the function
updates the tree view_id&#39;s in response</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeSubscription"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>removeSubscription</b></span>
                        <a href="#removeSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>removeSubscription()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="926"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:926</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>specifically removes the subscription from the move event</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rescale"></a>
                    <span class="name">
                        <span ><b>rescale</b></span>
                        <a href="#rescale"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>rescale(scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="380"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:380</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>redraws each operation and subdraft at the new scale, then redraws each of their connections</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>scale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resubscribe"></a>
                    <span class="name">
                        <span ><b>resubscribe</b></span>
                        <a href="#resubscribe"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resubscribe()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="232"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:232</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>resubscribes to each subscription</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveNote"></a>
                    <span class="name">
                        <span ><b>saveNote</b></span>
                        <a href="#saveNote"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveNote()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="558"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:558</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectionStarted"></a>
                    <span class="name">
                        <span ><b>selectionStarted</b></span>
                        <a href="#selectionStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectionStarted()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1635"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1635</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setCell"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>setCell</b></span>
                        <a href="#setCell"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setCell(ndx: <a href="../interfaces/Interlacement.html" target="_self">Interlacement</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="986"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:986</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets the value of the scratchpad cell at ndx
checks for self interselcting</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>(i,j)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNoteSubscriptions"></a>
                    <span class="name">
                        <span ><b>setNoteSubscriptions</b></span>
                        <a href="#setNoteSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setNoteSubscriptions(note: <a href="../components/NoteComponent.html" target="_self">NoteComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="546"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:546</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when a new operation is added</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>note</td>
                                    <td>
                                                <code><a href="../components/NoteComponent.html" target="_self" >NoteComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setOperationSubscriptions"></a>
                    <span class="name">
                        <span ><b>setOperationSubscriptions</b></span>
                        <a href="#setOperationSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setOperationSubscriptions(op: <a href="../interfaces/Operation.html" target="_self">OperationComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="643"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:643</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when a new operation is added</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op</td>
                                    <td>
                                                <code><a href="../interfaces/Operation.html" target="_self" >OperationComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSubdraftSubscriptions"></a>
                    <span class="name">
                        <span ><b>setSubdraftSubscriptions</b></span>
                        <a href="#setSubdraftSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSubdraftSubscriptions(sd: <a href="../components/SubdraftComponent.html" target="_self">SubdraftComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="474"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:474</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when a new subdraft is created</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd</td>
                                    <td>
                                                <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shapeDragged"></a>
                    <span class="name">
                        <span ><b>shapeDragged</b></span>
                        <a href="#shapeDragged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>shapeDragged(mouse: <a href="../interfaces/Point.html" target="_self">Point</a>, shift: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1677"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1677</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>resizes and redraws the shape between the the current mouse and where the shape started</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mouse</td>
                                    <td>
                                                <code><a href="../interfaces/Point.html" target="_self" >Point</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the absolute position of the mouse on screen</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>shift</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shapeStarted"></a>
                    <span class="name">
                        <span ><b>shapeStarted</b></span>
                        <a href="#shapeStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>shapeStarted(mouse: <a href="../interfaces/Point.html" target="_self">Point</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1645"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1645</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>brings the base canvas to view and begins to render the</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mouse</td>
                                    <td>
                                                <code><a href="../interfaces/Point.html" target="_self" >Point</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the absolute position of the mouse on screen</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startSnackBar"></a>
                    <span class="name">
                        <span ><b>startSnackBar</b></span>
                        <a href="#startSnackBar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>startSnackBar(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, bounds: <a href="../interfaces/Bounds.html" target="_self">Bounds</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="422"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:422</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>loads the snackbar at the bottom of the screen</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>message</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the message to show on the snack bar</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>bounds</td>
                                    <td>
                                                <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the bounds of the element that we are showing info aboout</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subdraftDropped"></a>
                    <span class="name">
                        <span ><b>subdraftDropped</b></span>
                        <a href="#subdraftDropped"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subdraftDropped(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2376"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2376</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if this subdraft has been dropped onto of another and merges them accordingly</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subdraftMoved"></a>
                    <span class="name">
                        <span ><b>subdraftMoved</b></span>
                        <a href="#subdraftMoved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subdraftMoved(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2327"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2327</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when subdraft component says its moving</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the subdraft that called this</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subdraftStarted"></a>
                    <span class="name">
                        <span ><b>subdraftStarted</b></span>
                        <a href="#subdraftStarted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subdraftStarted(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1230"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1230</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A mouse event, originated in a subdraft, has been started
checkes the design mode and handles the event as required</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>contains the id of the moving subdraft</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subdraftToPlayer"></a>
                    <span class="name">
                        <span ><b>subdraftToPlayer</b></span>
                        <a href="#subdraftToPlayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subdraftToPlayer(d: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="487"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:487</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unfreezePaletteObjects"></a>
                    <span class="name">
                        <span ><b>unfreezePaletteObjects</b></span>
                        <a href="#unfreezePaletteObjects"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unfreezePaletteObjects()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1381"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:1381</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>unfreezes all palette objects (except connections)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubscribeFromAll"></a>
                    <span class="name">
                        <span ><b>unsubscribeFromAll</b></span>
                        <a href="#unsubscribeFromAll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unsubscribeFromAll()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="221"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:221</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>the only way to prevent memory leaks is to unsubscribe.
since we lose access to tree when a new file is uploaded we must unsubscribe
when any upload action is taking place. If no action takes place, then resubscribe</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateAttachedComponents"></a>
                    <span class="name">
                        <span ><b>updateAttachedComponents</b></span>
                        <a href="#updateAttachedComponents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateAttachedComponents(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, follow: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2203"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:2203</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this function will update any components that should move when the compoment passed by obj moves
moves all compoments returned from tree.getNodesToUpdate(). All changes to what updates should be
handled by getNodesToUpdateOnMove</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>follow</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateSnackBar"></a>
                    <span class="name">
                        <span ><b>updateSnackBar</b></span>
                        <a href="#updateSnackBar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateSnackBar(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, bounds: <a href="../interfaces/Bounds.html" target="_self">Bounds</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="438"
                            class="link-to-prism">src/app/mixer/palette/palette.component.ts:438</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>updates data shown on the snackbar</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>message</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>bounds</td>
                                    <td>
                                                <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canvas"></a>
                    <span class="name">
                        <span ><b>canvas</b></span>
                        <a href="#canvas"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLCanvasElement</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="79" class="link-to-prism">src/app/mixer/palette/palette.component.ts:79</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>HTML Canvas element that draws the selection and currently cells drawn on this component</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canvas_zndx"></a>
                    <span class="name">
                        <span ><b>canvas_zndx</b></span>
                        <a href="#canvas_zndx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>-1</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="112" class="link-to-prism">src/app/mixer/palette/palette.component.ts:112</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>links to the z-index to push the canvas to the front or back of view when freehand drawing.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="connectionSubscriptions"></a>
                    <span class="name">
                        <span ><b>connectionSubscriptions</b></span>
                        <a href="#connectionSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;Subscription&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/mixer/palette/palette.component.ts:48</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cx"></a>
                    <span class="name">
                        <span ><b>cx</b></span>
                        <a href="#cx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/mixer/palette/palette.component.ts:80</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="default_cell_size"></a>
                    <span class="name">
                        <span ><b>default_cell_size</b></span>
                        <a href="#default_cell_size"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>5</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="134" class="link-to-prism">src/app/mixer/palette/palette.component.ts:134</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a reference to the base size of each cell. Zoom in and out only modifies the view, not this base size.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="last"></a>
                    <span class="name">
                        <span ><b>last</b></span>
                        <a href="#last"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Interlacement.html" target="_self" >Interlacement</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">src/app/mixer/palette/palette.component.ts:86</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>stores an i and j of the last user selected location within the component</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="moveSubscription"></a>
                    <span class="name">
                        <span ><b>moveSubscription</b></span>
                        <a href="#moveSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">src/app/mixer/palette/palette.component.ts:56</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Subscribes to move event after a touch event is started.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="noteSubscriptions"></a>
                    <span class="name">
                        <span ><b>noteSubscriptions</b></span>
                        <a href="#noteSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;Subscription&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/mixer/palette/palette.component.ts:49</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationSubscriptions"></a>
                    <span class="name">
                        <span ><b>operationSubscriptions</b></span>
                        <a href="#operationSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;Subscription&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/mixer/palette/palette.component.ts:47</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pedals"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>pedals</b></span>
                        <a href="#pedals"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/PedalsService.html" target="_self" >PedalsService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="159" class="link-to-prism">src/app/mixer/palette/palette.component.ts:159</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pointer_events"></a>
                    <span class="name">
                        <span ><b>pointer_events</b></span>
                        <a href="#pointer_events"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/mixer/palette/palette.component.ts:92</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>triggers a class to handle disabling pointerevents when switching modes</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scale"></a>
                    <span class="name">
                        <span ><b>scale</b></span>
                        <a href="#scale"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="99" class="link-to-prism">src/app/mixer/palette/palette.component.ts:99</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a value to represent the current user defined scale for this component.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scale_string"></a>
                    <span class="name">
                        <span ><b>scale_string</b></span>
                        <a href="#scale_string"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="107" class="link-to-prism">src/app/mixer/palette/palette.component.ts:107</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a string to represent the current user defined scale for this component to be used in background grid css.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scratch_pad"></a>
                    <span class="name">
                        <span ><b>scratch_pad</b></span>
                        <a href="#scratch_pad"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Cell.html" target="_self" >Array&lt;Array&lt;Cell&gt;&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/mixer/palette/palette.component.ts:73</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>holds the data of events drawn on this component (that are not associated with a subdraft)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selecting_connection"></a>
                    <span class="name">
                        <span ><b>selecting_connection</b></span>
                        <a href="#selecting_connection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/app/mixer/palette/palette.component.ts:61</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flag to determine how conneection should be drawn</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selection"></a>
                    <span class="name">
                        <span ><b>selection</b></span>
                        <a href="#selection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new MarqueeComponent()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/mixer/palette/palette.component.ts:67</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>holds a reference to the selection component</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shape_bounds"></a>
                    <span class="name">
                        <span ><b>shape_bounds</b></span>
                        <a href="#shape_bounds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">src/app/mixer/palette/palette.component.ts:118</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>stores the bounds of the shape being drawn</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shape_vtxs"></a>
                    <span class="name">
                        <span ><b>shape_vtxs</b></span>
                        <a href="#shape_vtxs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;Point&gt;</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="123" class="link-to-prism">src/app/mixer/palette/palette.component.ts:123</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>stores the vtx for freehand shapes</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="snack_bounds"></a>
                    <span class="name">
                        <span ><b>snack_bounds</b></span>
                        <a href="#snack_bounds"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Bounds.html" target="_self" >Bounds</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="129" class="link-to-prism">src/app/mixer/palette/palette.component.ts:129</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="snack_message"></a>
                    <span class="name">
                        <span ><b>snack_message</b></span>
                        <a href="#snack_message"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="128" class="link-to-prism">src/app/mixer/palette/palette.component.ts:128</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>trackable inputs to snackbar</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subdraftSubscriptions"></a>
                    <span class="name">
                        <span ><b>subdraftSubscriptions</b></span>
                        <a href="#subdraftSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;Subscription&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/mixer/palette/palette.component.ts:46</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="vc"></a>
                    <span class="name">
                        <span ><b>vc</b></span>
                        <a href="#vc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/ViewContainerRef" target="_blank" >ViewContainerRef</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;vc&#x27;, {read: ViewContainerRef, static: true})<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/mixer/palette/palette.component.ts:44</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>A container that supports the automatic generation and removal of the components inside of it</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="viewport"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>viewport</b></span>
                        <a href="#viewport"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/ViewportService.html" target="_self" >ViewportService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="157" class="link-to-prism">src/app/mixer/palette/palette.component.ts:157</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description">reference to the window and palette variables and where the viewer is currently lookin</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Observable,  Subscription, fromEvent, from, iif } from &#x27;rxjs&#x27;;
import { DesignmodesService } from &#x27;../../core/provider/designmodes.service&#x27;;
import { Component, HostListener, ViewContainerRef, Input, ComponentFactoryResolver, ViewChild, OnInit, ViewRef, Output, EventEmitter } from &#x27;@angular/core&#x27;;
import { SubdraftComponent } from &#x27;./subdraft/subdraft.component&#x27;;
import { MarqueeComponent } from &#x27;./marquee/marquee.component&#x27;;
import { SnackbarComponent } from &#x27;./snackbar/snackbar.component&#x27;;
import { Cell } from &#x27;./../../core/model/cell&#x27;;
import {MatSnackBar} from &#x27;@angular/material/snack-bar&#x27;;
import { Point, Interlacement, Bounds, DraftMap, Draft, NodeComponentProxy,DraftNode, OpNode, DraftNodeProxy } from &#x27;../../core/model/datatypes&#x27;;
import { InkService } from &#x27;../../mixer/provider/ink.service&#x27;;
import { LayersService } from &#x27;../../mixer/provider/layers.service&#x27;;
import { Shape } from &#x27;../model/shape&#x27;;
import utilInstance from &#x27;../../core/model/util&#x27;;
import { OperationComponent } from &#x27;./operation/operation.component&#x27;;
import { ConnectionComponent } from &#x27;./connection/connection.component&#x27;;
import { TreeService } from &#x27;../../core/provider/tree.service&#x27;;
import { FileService } from &#x27;./../../core/provider/file.service&#x27;;
import { ViewportService } from &#x27;../provider/viewport.service&#x27;;
import { NoteComponent } from &#x27;./note/note.component&#x27;;
import { Note, NotesService } from &#x27;../../core/provider/notes.service&#x27;;
import { StateService } from &#x27;../../core/provider/state.service&#x27;;
import { PedalsService } from &#x27;../../player/provider/pedals.service&#x27;;
import { getDraftName, initDraftWithParams, warps, wefts } from &#x27;../../core/model/drafts&#x27;;

@Component({
  selector: &#x27;app-palette&#x27;,
  templateUrl: &#x27;./palette.component.html&#x27;,
  styleUrls: [&#x27;./palette.component.scss&#x27;]
})


export class PaletteComponent implements OnInit{

  /**
   * a reference to the default patterns (used for fill operations)
   * @property {Array&lt;Pattern&gt;}
   */ 
  @Output() onDesignModeChange: any &#x3D; new EventEmitter();  
  @Output() onDraftToPlayer: any &#x3D; new EventEmitter();

  /**
   * A container that supports the automatic generation and removal of the components inside of it
   */
  @ViewChild(&#x27;vc&#x27;, {read: ViewContainerRef, static: true}) vc: ViewContainerRef;

  subdraftSubscriptions: Array&lt;Subscription&gt; &#x3D; [];
  operationSubscriptions: Array&lt;Subscription&gt; &#x3D; [];
  connectionSubscriptions: Array&lt;Subscription&gt; &#x3D; [];
  noteSubscriptions: Array&lt;Subscription&gt; &#x3D; [];


/**
 * Subscribes to move event after a touch event is started.
 * @property {Subscription}
 */
  moveSubscription: Subscription;

  /**
   * flag to determine how conneection should be drawn
   */
  selecting_connection: boolean &#x3D; false;

  /**
   * holds a reference to the selection component
   * @property {Selection}
   */
  selection &#x3D; new MarqueeComponent();

  /**
   * holds the data of events drawn on this component (that are not associated with a subdraft)
   * @property {Array&lt;Array&lt;Cell&gt;&gt;}
   */
  scratch_pad: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; [];

  /**
   * HTML Canvas element that draws the selection and currently cells drawn on this component
   * @property {Canvas}
   */
  canvas: HTMLCanvasElement;
  cx: any;

  /**
   * stores an i and j of the last user selected location within the component
   * @property {Point}
   */
  last: Interlacement;

  /**
   * triggers a class to handle disabling pointerevents when switching modes
   * @property {boolean}
   */
  pointer_events: boolean;

  /**
   * a value to represent the current user defined scale for this component. 
   * @property {number}
   */

   scale: number;


  /**
   * a string to represent the current user defined scale for this component to be used in background grid css. 
   * @property {striing}
   */

  scale_string: string;

  /**
   * links to the z-index to push the canvas to the front or back of view when freehand drawing. 
   */
  canvas_zndx: number &#x3D; -1;
  
  
  /**
   * stores the bounds of the shape being drawn
   */
  shape_bounds: Bounds;
  
  /**
   * stores the vtx for freehand shapes
   */
  shape_vtxs: Array&lt;Point&gt;;
  
  /**
   * trackable inputs to snackbar
   */
  snack_message: string;
  snack_bounds: Bounds;

  /**
   * a reference to the base size of each cell. Zoom in and out only modifies the view, not this base size.
   */
  default_cell_size: number &#x3D; 5;
  
  /**
   * Constructs a palette object. The palette supports drawing without components and dynamically
   * creates components from shapes and scribbles on the canvas. 
   * @param dm  a reference to the service containing the current design modes and selections
   * @param tree reference to the objects and relationships within this palette
   * @param inks a reference to the service manaing the available inks
   * @param layers a reference to the sercie managing the view layers (z-indexes) of components
   * @param resolver a reference to the factory component for dynamically generating components
   * @param fs file service for saving and loading files
   * @param _snackBar _snackBar a reference to the snackbar component that shows data on move and select
   * @param viewport reference to the window and palette variables and where the viewer is currently lookin
   * @param notes reference the service that stores all the tagged comments
   */
  constructor(
    private dm: DesignmodesService, 
    private tree: TreeService,
    private inks: InkService, 
    private layers: LayersService, 
    private resolver: ComponentFactoryResolver, 
    private fs: FileService,
    private _snackBar: MatSnackBar,
    public viewport: ViewportService,
    private notes: NotesService,
    public pedals: PedalsService,
    private ss: StateService) { 
    this.shape_vtxs &#x3D; [];
    this.pointer_events &#x3D; true;
  }

  /**
   * Called when palette is initailized
   */
  ngOnInit(){
    this.scale &#x3D; 5; //default set from zoom
    this.scale_string &#x3D; this.default_cell_size+&quot;px &quot;+this.default_cell_size+&quot;px&quot;;
    this.vc.clear();

  }

  /**
   * Gets references to view items and adds to them after the view is initialized
   */
   ngAfterViewInit(){
    
    const div: HTMLElement &#x3D; document.getElementById(&#x27;scrollable-container&#x27;);
    this.viewport.set(div.offsetParent.scrollLeft, div.offsetParent.scrollTop,  div.offsetParent.clientWidth,  div.offsetParent.clientHeight);
    
    // const center:Point &#x3D; this.viewport.setViewportCenter();
    // div.offsetParent.scrollLeft &#x3D; this.viewport.getTopLeft().x;
    // div.offsetParent.scrollTop &#x3D; this.viewport.getTopLeft().y;

    this.canvas &#x3D; &lt;HTMLCanvasElement&gt; document.getElementById(&quot;scratch&quot;);
    this.cx &#x3D; this.canvas.getContext(&quot;2d&quot;);
    
    this.canvas.width &#x3D; this.viewport.getWidth();
    this.canvas.height &#x3D; this.viewport.getHeight();

    // this.cx.beginPath();
    // this.cx.rect(20, 20, this.viewport.width-40, this.viewport.height-40);
    // this.cx.stroke();

    this.selection.scale &#x3D; this.scale;

    this.selection.active &#x3D; false;
    
    this.designModeChanged();

    this.rescale(this.scale);
  }

  /**
   * unsubscribes to all open subscriptions and clears the view component
   */
  ngOnDestroy(){

    this.unsubscribeFromAll();
    this.vc.clear();
    
  }

  /**
   * the only way to prevent memory leaks is to unsubscribe.
   * since we lose access to tree when a new file is uploaded we must unsubscribe 
   * when any upload action is taking place. If no action takes place, then resubscribe
   */
  unsubscribeFromAll(){
    
    this.subdraftSubscriptions.forEach(element &#x3D;&gt; element.unsubscribe());
    this.operationSubscriptions.forEach(element &#x3D;&gt; element.unsubscribe());
    this.connectionSubscriptions.forEach(element &#x3D;&gt; element.unsubscribe());
    this.noteSubscriptions.forEach(element &#x3D;&gt; element.unsubscribe());
  }

  /**
   * resubscribes to each subscription
   */
  resubscribe(){

    this.tree.getDrafts().forEach(element &#x3D;&gt; {
     this.setSubdraftSubscriptions(element);
    });


    this.tree.getOperations().forEach(element &#x3D;&gt; {
      this.setOperationSubscriptions(element)
    });

    this.tree.getConnections().forEach(element &#x3D;&gt; {
    });

    this.tree.getConnections().forEach(element &#x3D;&gt; {
    });



  }

  /**
   * called when a new file is loaded
   */
   clearComponents(){
    this.unsubscribeFromAll();

    this.notes.getRefs().forEach(ref &#x3D;&gt; this.removeFromViewContainer(ref));

    this.vc.clear();
  }

  
/**
 * called when user moves position within viewer
 * @param data 
 */
  handleScroll(position: any){

    this.viewport.setTopLeft(position);
    const div:HTMLElement &#x3D; document.getElementById(&#x27;scrollable-container&#x27;);  
     div.offsetParent.scrollLeft &#x3D; this.viewport.getTopLeft().x;
     div.offsetParent.scrollTop &#x3D; this.viewport.getTopLeft().y;
  }

  /**
 * called when user scrolls the winidow
 * @param data 
 */
   handleWindowScroll(data: any){

    const div:HTMLElement &#x3D; document.getElementById(&#x27;scrollable-container&#x27;);
    this.viewport.set(div.offsetParent.scrollLeft, div.offsetParent.scrollTop,  div.offsetParent.clientWidth,  div.offsetParent.clientHeight);
    //update the canvas to this position
  }

  /**
   * removes the view associate with this view ref
   * @param ref 
   */
  removeFromViewContainer(ref: ViewRef){
    const ndx: number &#x3D; this.vc.indexOf(ref);
    if(ndx !&#x3D;&#x3D; -1) this.vc.remove(ndx);
    else console.log(&#x27;Error: view ref not found for removal&#x27;, ref);

  }

  /**
   * adds a state to the timeline. This should be called 
   * each time a user performs an action that they should be able to undo/redo
   */
  addTimelineState(){

    // version: string,
    // workspace: any,
    // type: string,
    // nodes: Array&lt;NodeComponentProxy&gt;,
    // tree: Array&lt;TreeNodeProxy&gt;,
    // drafts: Array&lt;Draft&gt;,
    // looms: Array&lt;Loom&gt;,
    // loom_settings: Array&lt;LoomSettings&gt;
    // ops: Array&lt;any&gt;,
    // notes: Array&lt;Note&gt;,
    // materials: Array&lt;Shuttle&gt;,
    // scale: number


   this.fs.saver.ada(
      &#x27;mixer&#x27;, 
      true,
      this.scale)
      .then(so &#x3D;&gt; {
        this.ss.addMixerHistoryState(so);
      });
  }

  /**
   * this cycles through all subdrafts and calls the download call on any subdrafts
   * who are currently visible. 
   */
  async downloadVisibleDraftsAsBmp() : Promise&lt;any&gt;{

    const drafts: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
    const visible_drafts: Array&lt;SubdraftComponent&gt; &#x3D; drafts.filter(el &#x3D;&gt; el.draft_visible)
    const functions: Array&lt;Promise&lt;any&gt;&gt; &#x3D; visible_drafts.map(el &#x3D;&gt; el.saveAsBmp());
    return Promise.all(functions).then(el &#x3D;&gt;
      console.log(&quot;Downloaded &quot;+functions.length+&quot; files&quot;)
    );

  }
  
  /**
   * this cycles through all subdrafts and calls the download call on any subdrafts
   * who are currently visible. 
   */
   async downloadVisibleDraftsAsWif() : Promise&lt;any&gt;{

    const drafts: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
    const visible_drafts: Array&lt;SubdraftComponent&gt; &#x3D; drafts.filter(el &#x3D;&gt; el.draft_visible)
    const functions: Array&lt;Promise&lt;any&gt;&gt; &#x3D; visible_drafts.map(el &#x3D;&gt; el.saveAsWif());
    return Promise.all(functions)
    .then(el &#x3D;&gt;
      console.log(&quot;Downloaded &quot;+functions.length+&quot; files&quot;)
    );

  }
  


  /**
  //  * called anytime an operation is added. Adds the operation to the tree. 
  //  * @param name the name of the operation to add
  //  */
  addOperation(name:string){
      
    const opcomp:OperationComponent &#x3D; this.createOperation(name);
    this.performAndUpdateDownstream(opcomp.id).then(el &#x3D;&gt; {
      this.addTimelineState();
    });

  }



  /**
   * redraws each operation and subdraft at the new scale, then redraws each of their connections
   * @param scale 
   */
  rescale(scale:number){


    this.scale &#x3D; scale;

    const zoom_factor: number &#x3D; this.scale / this.default_cell_size;
   
      const container: HTMLElement &#x3D; document.getElementById(&#x27;palette&#x27;);
      container.style.transformOrigin &#x3D; &#x27;top left&#x27;;
      container.style.transform &#x3D; &#x27;scale(&#x27; + zoom_factor + &#x27;)&#x27;;
  
     

    //these subdrafts are all rendered independely of the canvas and need to indivdiually rescalled. This 
    //essentially rerenders (but does not redraw them) and updates their top/lefts to scaled points
    this.tree.nodes.forEach(node &#x3D;&gt; {
        if(node.type !&#x3D;&#x3D; &quot;cxn&quot;){
          node.component.scale &#x3D; scale;
        } 
      });


    this.tree.getConnections().forEach(sd &#x3D;&gt; {
      sd.rescale(scale);
    });

    this.notes.getComponents().forEach(el &#x3D;&gt; {
      el.scale &#x3D; scale;
    });

  

     if(this.tree.getPreview() !&#x3D;&#x3D; undefined) this.tree.getPreviewComponent().scale &#x3D; this.scale;

  }

  
  /**
   * loads the snackbar at the bottom of the screen
   * @param message the message to show on the snack bar
   * @param bounds the bounds of the element that we are showing info aboout
   */
  startSnackBar(message: string, bounds:Bounds){
    this.updateSnackBar(message, bounds);
    this._snackBar.openFromComponent(SnackbarComponent, {
      data: {
        message: this.snack_message,
        bounds: this.snack_bounds,
        scale: this.scale
      }
    });
  }

  /**
   * updates data shown on the snackbar
   * @param message 
   * @param bounds 
   */
  updateSnackBar(message: string, bounds:Bounds){

    this.snack_bounds &#x3D; bounds;
    this.snack_message &#x3D; message;
  }

  /**
   * called to close the snackbar
   */
  closeSnackBar(){
    this._snackBar.dismiss();
  }


  /**
   * called when the palette needs to change the design mode, emits output to parent
   * @param name - the mode to switchh to
   */
  changeDesignmode(name: string) {
    this.dm.selectDesignMode(name, &#x27;design_modes&#x27;);
    const mode &#x3D; this.dm.getDesignMode(name, &#x27;design_modes&#x27;);
    this.onDesignModeChange.emit(name);
  }

  // disablePointerEvents(){
  //   this.pointer_events &#x3D; false;
  // }

  // enablePointerEvents(){
  //   this.pointer_events &#x3D; true;
  // }

  /**
   * called when a new subdraft is created
   * @param sd 
   */
  setSubdraftSubscriptions(sd: SubdraftComponent){
    this.subdraftSubscriptions.push(sd.onSubdraftDrop.subscribe(this.subdraftDropped.bind(this)));
    this.subdraftSubscriptions.push(sd.onSubdraftMove.subscribe(this.subdraftMoved.bind(this)));
    this.subdraftSubscriptions.push(sd.onSubdraftStart.subscribe(this.subdraftStarted.bind(this)));
    this.subdraftSubscriptions.push(sd.onDeleteCalled.subscribe(this.onDeleteSubdraftCalled.bind(this)));
    this.subdraftSubscriptions.push(sd.onDuplicateCalled.subscribe(this.onDuplicateSubdraftCalled.bind(this)));
    this.subdraftSubscriptions.push(sd.onConnectionStarted.subscribe(this.onConnectionStarted.bind(this)));
    this.subdraftSubscriptions.push(sd.onDesignAction.subscribe(this.onSubdraftAction.bind(this)));
    this.subdraftSubscriptions.push(sd.onSubdraftViewChange.subscribe(this.onSubdraftViewChange.bind(this)));
    this.subdraftSubscriptions.push(sd.onNameChange.subscribe(this.onSubdraftNameChange.bind(this)));
    this.subdraftSubscriptions.push(sd.onDraftToPlayer.subscribe(this.subdraftToPlayer.bind(this)));
  }

  subdraftToPlayer(d: Draft) {
    console.log(&quot;subdraft sending to player&quot;);
    console.log(d);
    this.onDraftToPlayer.emit(d);
  }

  /**
   * dynamically creates a a note component
   * @returns the created note instance
   */
   createNote():NoteComponent{

    
    const tl: Point &#x3D; this.viewport.getTopLeft();
    const factory &#x3D; this.resolver.resolveComponentFactory(NoteComponent);
    const notecomp &#x3D; this.vc.createComponent&lt;NoteComponent&gt;(factory);
    const note &#x3D; this.notes.createBlankNode(utilInstance.resolvePointToAbsoluteNdx(tl, this.scale));
    this.setNoteSubscriptions(notecomp.instance);

    note.component &#x3D; notecomp.instance;
    note.ref &#x3D; notecomp.hostView;
    notecomp.instance.id &#x3D; note.id;
    notecomp.instance.scale &#x3D; this.scale;
    notecomp.instance.default_cell &#x3D; this.default_cell_size;

    this.changeDesignmode(&#x27;move&#x27;);

    console.log(&quot;Note created&quot;, note)

    return notecomp.instance;
  }


    /**
   * dynamically creates a a note component
   * @returns the created note instance
   */
    loadNote(note: Note):NoteComponent{

      
      const notecomp &#x3D; this.vc.createComponent(NoteComponent);
      this.setNoteSubscriptions(notecomp.instance);

      note.component &#x3D; notecomp.instance;
      note.ref &#x3D; notecomp.hostView;

      notecomp.instance.id &#x3D; note.id;
      notecomp.instance.scale &#x3D; this.scale;
      notecomp.instance.default_cell &#x3D; this.default_cell_size;
  
      return notecomp.instance;
    }

    
    
      /**
   * called when a new operation is added
   * @param op 
   */
  setNoteSubscriptions(note: NoteComponent){
    this.noteSubscriptions.push(note.deleteNote.subscribe(this.deleteNote.bind(this)));
    this.noteSubscriptions.push(note.saveNoteText.subscribe(this.saveNote.bind(this)));
  }

  deleteNote(id: number){
    console.log(&quot;get note&quot;, id)
    const note &#x3D; this.notes.get(id);
    this.removeFromViewContainer(note.ref);
    this.notes.delete(id);
  }

  saveNote(){
    this.changeDesignmode(&#x27;move&#x27;);
    this.addTimelineState();
  }



  /**
   * dynamically creates a subdraft component, adds its inputs and event listeners, pushes the subdraft to the list of references
   * @param d a Draft object for this component to contain
   * @returns the created subdraft instance
   */
  createSubDraft(d: Draft, parent: number) : Promise&lt;SubdraftComponent&gt;{
    
    const factory &#x3D; this.resolver.resolveComponentFactory(SubdraftComponent);
    const subdraft &#x3D; this.vc.createComponent&lt;SubdraftComponent&gt;(factory);
    const id &#x3D; this.tree.createNode(&#x27;draft&#x27;, subdraft.instance, subdraft.hostView);
    
    this.setSubdraftSubscriptions(subdraft.instance);
    subdraft.instance.id &#x3D; id;
    subdraft.instance.draft &#x3D; d;
    subdraft.instance.default_cell &#x3D; this.default_cell_size;
    subdraft.instance.scale &#x3D; this.scale;
    subdraft.instance.ink &#x3D; this.inks.getSelected(); //default to the currently selected ink


    return this.tree.loadDraftData({prev_id: -1, cur_id: id}, d, null, null)
      .then(d &#x3D;&gt; {
        return Promise.resolve(subdraft.instance);
        }
      )
  }


  
  

  /**
   * loads a subdraft component from data
   * @param id the node id assigned to this element on load
   * @param d the draft object to load into this subdraft
   * @param nodep the component proxy used to define
   */
   loadSubDraft(id: number, d: Draft, nodep: NodeComponentProxy, draftp: DraftNodeProxy,  saved_scale: number){

    

    const factory &#x3D; this.resolver.resolveComponentFactory(SubdraftComponent);
    const subdraft &#x3D; this.vc.createComponent&lt;SubdraftComponent&gt;(factory);
    const node &#x3D; this.tree.getNode(id)
    node.component &#x3D; subdraft.instance;
    node.ref &#x3D; subdraft.hostView;
    this.setSubdraftSubscriptions(subdraft.instance);
    subdraft.instance.id &#x3D; id;
    subdraft.instance.default_cell &#x3D; this.default_cell_size;
    subdraft.instance.scale &#x3D; this.scale;
    subdraft.instance.draft_visible &#x3D;true;
    subdraft.instance.ink &#x3D; this.inks.getSelected(); //default to the currently selected ink
    subdraft.instance.draft &#x3D; d;
    subdraft.instance.parent_id &#x3D; this.tree.getSubdraftParent(id);

    if(nodep.bounds !&#x3D;&#x3D; null){
      
      const topleft_ilace &#x3D; {j: nodep.bounds.topleft.x/saved_scale, i: nodep.bounds.topleft.y/saved_scale};
      const adj_topleft: Point &#x3D; {x: topleft_ilace.j*this.scale, y: topleft_ilace.i*this.scale};
      
      const new_bounds: Bounds &#x3D; {
        topleft: adj_topleft,
        width: nodep.bounds.width / saved_scale * this.scale,
        height: nodep.bounds.height / saved_scale * this.scale,
      }

      subdraft.instance.bounds &#x3D; new_bounds;

      if(draftp !&#x3D;&#x3D; null &amp;&amp; draftp !&#x3D;&#x3D; undefined){
        subdraft.instance.draft_visible &#x3D; draftp.draft_visible;
      }
    } 

  }

  /**
   * called when a new operation is added
   * @param op 
   */
  setOperationSubscriptions(op: OperationComponent){
    this.operationSubscriptions.push(op.onOperationMove.subscribe(this.operationMoved.bind(this)));
    this.operationSubscriptions.push(op.onOperationMoveEnded.subscribe(this.operationMoveEnded.bind(this)));
    this.operationSubscriptions.push(op.onOperationParamChange.subscribe(this.operationParamChanged.bind(this)));
    this.operationSubscriptions.push(op.deleteOp.subscribe(this.onDeleteOperationCalled.bind(this)));
    this.operationSubscriptions.push(op.duplicateOp.subscribe(this.onDuplicateOpCalled.bind(this)));
    this.subdraftSubscriptions.push(op.onConnectionRemoved.subscribe(this.removeConnection.bind(this)));
    this.subdraftSubscriptions.push(op.onInputAdded.subscribe(this.connectionMade.bind(this)));
  }


  /**
   * creates an operation component
   * @param name the name of the operation this component will perform
   * @returns the OperationComponent created
   */
    createOperation(name: string): OperationComponent{
      const factory &#x3D; this.resolver.resolveComponentFactory(OperationComponent);
      const op &#x3D; this.vc.createComponent&lt;OperationComponent&gt;(factory);
      const id &#x3D; this.tree.createNode(&#x27;op&#x27;, op.instance, op.hostView);

      this.tree.loadOpData({prev_id: -1, cur_id: id}, name, undefined, undefined);
      this.setOperationSubscriptions(op.instance);

      op.instance.name &#x3D; name;
      op.instance.id &#x3D; id;
      op.instance.zndx &#x3D; this.layers.createLayer();
      op.instance.scale &#x3D; this.scale;
      op.instance.default_cell &#x3D; this.default_cell_size;

      return op.instance;
    }

    /**
   * loads an operation with the information supplied. 
   * @param name the name of the operation this component will perform
   * @params params the input data to be used in this operation
   * @returns the id of the node this has been assigned to
   */
    loadOperation(id: number, name: string, params: Array&lt;any&gt;, inlets: Array&lt;any&gt;, bounds:Bounds, saved_scale: number){

        const factory &#x3D; this.resolver.resolveComponentFactory(OperationComponent);
        const op &#x3D; this.vc.createComponent&lt;OperationComponent&gt;(factory);
        const node &#x3D; this.tree.getNode(id)
        node.component &#x3D; op.instance;
        node.ref &#x3D; op.hostView;
    
        this.setOperationSubscriptions(op.instance);
  
        op.instance.name &#x3D; name;
        op.instance.id &#x3D; id;
        op.instance.zndx &#x3D; this.layers.createLayer();
        op.instance.scale &#x3D; this.scale;
        op.instance.default_cell &#x3D; this.default_cell_size;
        op.instance.loaded_inputs &#x3D; params;
        op.instance.bounds.topleft &#x3D; {x: bounds.topleft.x, y: bounds.topleft.y};
        op.instance.bounds.width &#x3D; bounds.width;
        op.instance.bounds.height &#x3D; bounds.height;
        op.instance.loaded &#x3D; true;
  
        if(bounds !&#x3D;&#x3D; null){
        
          const topleft_ilace &#x3D; {j: bounds.topleft.x/saved_scale, i: bounds.topleft.y/saved_scale};
          const adj_topleft: Point &#x3D; {x: topleft_ilace.j*this.scale, y: topleft_ilace.i*this.scale};
          
          const new_bounds: Bounds &#x3D; {
            topleft: adj_topleft,
            width: bounds.width / saved_scale * this.scale,
            height: bounds.height / saved_scale * this.scale,
          }
    
          op.instance.bounds &#x3D; new_bounds;
          
        } 
  
       
      }

   

    /**
     * duplicates an operation with the information supplied. 
     * @param name the name of the operation this component will perform
     * @params params the input data to be used in this operation
     * @returns the id of the node this has been assigned to
     */
     duplicateOperation(name: string, params: Array&lt;number&gt;, bounds:Bounds, inlets: Array&lt;any&gt;):number{

      const op:OperationComponent &#x3D; this.createOperation(name);
          
          this.tree.setOpParams(op.id, params.slice(), inlets.slice());
          op.loaded_inputs &#x3D; params.slice();
          op.bounds.topleft &#x3D; {x: bounds.topleft.x, y: bounds.topleft.y};
          op.bounds.width &#x3D; bounds.width;
          op.bounds.height &#x3D; bounds.height;
          op.duplicated &#x3D; true;
    
          return op.id;
      }



    /**
     * creates a connection and draws it to screen
     * @param id - the id of this node
     */
     loadConnection(id: number){

      const factory &#x3D; this.resolver.resolveComponentFactory(ConnectionComponent);
      const cxn &#x3D; this.vc.createComponent&lt;ConnectionComponent&gt;(factory);
      const node &#x3D; this.tree.getNode(id);
      const tn &#x3D; this.tree.getTreeNode(id);
      node.component &#x3D; cxn.instance;
      node.ref &#x3D; cxn.hostView;
        
      cxn.instance.id &#x3D; id;
      cxn.instance.scale &#x3D; this.scale;
      cxn.instance.default_cell_size &#x3D; this.default_cell_size;

    }



    /**
     * creates a connection component and registers it with the tree
     * @returns the list of all id&#x27;s connected to the &quot;to&quot; node 
     */
     createConnection(id_from: number, id_to:number, to_ndx: number):{input_ids: Array&lt;number&gt;, id: number}{

      const factory &#x3D; this.resolver.resolveComponentFactory(ConnectionComponent);
      const cxn &#x3D; this.vc.createComponent&lt;ConnectionComponent&gt;(factory);
      const id &#x3D; this.tree.createNode(&#x27;cxn&#x27;, cxn.instance, cxn.hostView);
      const to_input_ids: Array&lt;number&gt; &#x3D;  this.tree.addConnection(id_from, 0, id_to, to_ndx, id);
      
      cxn.instance.id &#x3D; id;
      cxn.instance.scale &#x3D; this.scale;
      cxn.instance.from &#x3D; id_from;
      cxn.instance.to &#x3D; id_to;
      cxn.instance.default_cell_size &#x3D; this.default_cell_size;



      return {input_ids: to_input_ids, id: id};
    }




  /**
   * called from upload or import events
   * @param d 
   */
  addSubdraftFromDraft(d: Draft){
    this.createSubDraft(d, -1).then(sd &#x3D;&gt; {
      sd.setPosition({x: this.viewport.getTopLeft().x + 60, y: this.viewport.getTopLeft().y + 60});
      // const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(sd.bounds.topleft, this.scale); 
      // this.viewport.addObj(sd.id, interlacement);
      this.addTimelineState();
    });
    
  }

  /**
   * a subdraft can only have an operation for a parent
   * removes the subdraft sent to the function
   * updates the tree view_id&#x27;s in response
   * @param id {number}  

   */
  removeSubdraft(id: number){


    if(id &#x3D;&#x3D;&#x3D; undefined) return;

    const outputs &#x3D; this.tree.getNonCxnOutputs(id);
    const delted_nodes &#x3D; this.tree.removeSubdraftNode(id);

    delted_nodes.forEach(node &#x3D;&gt; {
      this.removeFromViewContainer(node.ref);
      this.viewport.removeObj(node.id);
    })

    outputs.forEach(out &#x3D;&gt; {
      this.performAndUpdateDownstream(out);
    })

  }

  /**
   * this calls the tree to delete the operation.
   * the tree returns a list of all nodes deleted and this function updates the view to remove those elements
   * @param id 
   */
  removeOperation(id:number){


    if(id &#x3D;&#x3D;&#x3D; undefined) return;

    const drafts_out &#x3D; this.tree.getNonCxnOutputs(id);

    const outputs:Array&lt;number&gt; &#x3D; drafts_out.reduce((acc, el) &#x3D;&gt; {
      return acc.concat(this.tree.getNonCxnOutputs(el));
    }, []);


    const delted_nodes &#x3D; this.tree.removeOperationNode(id);
    delted_nodes.forEach(node &#x3D;&gt; {
      this.removeFromViewContainer(node.ref);
      this.viewport.removeObj(node.id);
    });

    outputs.forEach(out &#x3D;&gt; {
      this.performAndUpdateDownstream(out);
    })

  }

    /**
   * dynamically creates a subdraft component with specific requirements of the intersection, adds its inputs and event listeners, pushes the subdraft to the list of references
   * @param d a Draft object for this component to contain
   * @returns the created subdraft instance
   */
  createAndSetPreview(d: Draft) : Promise&lt;DraftNode&gt; {

      const factory &#x3D; this.resolver.resolveComponentFactory(SubdraftComponent);
      const subdraft &#x3D; this.vc.createComponent&lt;SubdraftComponent&gt;(factory);

      return this.tree.setPreview(subdraft, d).then( dn&#x3D;&gt; {
          //note, the preview is not added to the tree, as it will only be added if it eventually accepted by droppings
          const sd: SubdraftComponent &#x3D; &lt;SubdraftComponent&gt; dn.component;
         
          sd.id &#x3D; -1;
          sd.default_cell &#x3D; this.default_cell_size;
          sd.scale &#x3D; this.scale;
          sd.draft &#x3D; d;
          sd.ink &#x3D; this.inks.getSelected(); //default to the currently selected ink
          sd.setAsPreview();
          // sd.disableDrag();
          
          return dn;

      });


    }


  /**
   * destorys the preview component
   */
  removePreview(){

      const preview &#x3D; this.tree.getPreview();

      const ndx &#x3D; this.vc.indexOf(this.tree.getPreview().ref);
      this.vc.remove(ndx);

      this.tree.unsetPreview();
   
  }

  /**
   * Called from mixer when it receives a change from the design mode tool or keyboard press
   * triggers view mode changes required for this mode
   */
  public designModeChanged(){

    if(this.dm.getDesignMode(&#x27;move&#x27;, &#x27;design_modes&#x27;).selected){
      this.unfreezePaletteObjects();

    }else{
      this.freezePaletteObjects();
    }

    if(this.dm.getDesignMode(&#x27;draw&#x27;, &#x27;design_modes&#x27;).selected || this.dm.getDesignMode(&#x27;shape&#x27;,  &#x27;design_modes&#x27;).selected){
      this.rescale(Math.ceil(this.scale));
    }

  }

  /**
   * specifically removes the subscription from the move event
   */
   private removeSubscription() {    
    if (this.moveSubscription) {
      this.moveSubscription.unsubscribe();
    }
  }

  /**
   * draws the selection atop the view
   * todo: update this to account for scroll
   * @param ndx 
   */
  private drawSelection(ndx: Interlacement){


    this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);

    const bounds &#x3D;{
      left: this.selection.start.j*this.scale,
      top: this.selection.start.i*this.scale,
      right: ndx.j *this.scale,
      bottom: ndx.i*this.scale
    };

    //will draw on outside of selection
    this.cx.beginPath();
    this.cx.strokeStyle &#x3D; &quot;#ff4081&quot;;
    this.cx.lineWidth &#x3D; 1;
    this.cx.setLineDash([this.scale, 2]);
    this.cx.strokeRect(bounds.left - this.viewport.getTopLeft().x, bounds.top  - this.viewport.getTopLeft().y, bounds.right-bounds.left, bounds.bottom-bounds.top);
    this.cx.fillStyle &#x3D; &quot;#ff4081&quot;;
    this.cx.font &#x3D; &quot;12px Arial&quot;;
    const w &#x3D; Math.round(this.selection.bounds.width / this.scale);
    const h &#x3D; Math.round(this.selection.bounds.height / this.scale);
    this.cx.fillText(w.toString()+&quot;x&quot;+h.toString(),  bounds.left- this.viewport.getTopLeft().x, bounds.bottom+16-this.viewport.getTopLeft().y);

  }

  /**
   * Takes an absolute index and returns it to an index relative to the viewport. 
   * @param abs 
   * @returns 
   */
  private getRelativeInterlacement(abs: Interlacement) : Interlacement {
    const i_offset: number &#x3D; Math.floor(this.viewport.getTopLeft().y / this.scale);
    const j_offset: number &#x3D; Math.floor(this.viewport.getTopLeft().x / this.scale);
    const rel: Interlacement &#x3D; {
      i: abs.i - i_offset,
      j: abs.j - j_offset,
      si: -1
    }

    return rel;
  }


  /**
   * sets the value of the scratchpad cell at ndx
   * checks for self interselcting 
   * @param ndx (i,j)
   */
  private setCell(ndx: Interlacement){

    const rel: Interlacement &#x3D; this.getRelativeInterlacement(ndx);
    const c: Cell &#x3D; this.scratch_pad[rel.i][rel.j];

    const selected: string &#x3D; this.dm.getSelectedDesignMode(&#x27;draw_modes&#x27;).value;

    switch(selected){
      case &#x27;toggle&#x27;:
        const cur: boolean &#x3D; c.getHeddle();
        if(cur &#x3D;&#x3D; null)  c.setHeddle(true);
        else c.setHeddle(!cur);
        break;
      case &#x27;down&#x27;:
        c.setHeddle(false);
        break;
      case &#x27;up&#x27;:
        c.setHeddle(true);
      break;
      case &#x27;unset&#x27;:
        c.setHeddle(null);
      break;
    }


    //use the code below to use past scratchpad values, but this seems wrong
    // console.log(c);
    // const val: boolean &#x3D; c.isSet(); //check for a previous value
    // c.setHeddle(true);

    // if(val){
    //   const newval:boolean &#x3D; this.computeCellValue(this.inks.getSelected(), c, val);
    //   console.log(&quot;setting to&quot;, newval);
    //   c.setHeddle(newval);
    // } 
  }

  /**
   * called by drawcell. Draws on screen based on the current ink
   * @param ink 
   * @param over 
   * @param under 
   * @returns 
   */
  private computeCellColor(ink: string, over: Cell, under: boolean): string{

    const res: boolean &#x3D; this.computeCellValue(ink, over, under);
    if(ink &#x3D;&#x3D;&#x3D; &#x27;unset&#x27; &amp;&amp; res &#x3D;&#x3D; true) return &quot;#cccccc&quot;; 
    if(res &#x3D;&#x3D;&#x3D;null) return &quot;#fafafa&quot;;
    if(res) return &quot;#000000&quot;;
    return &quot;#ffffff&quot;;      
  }

  /**
   * applies the filter betetween over and under and returns the result
   * @param ink the ink with which to compute the transition
   * @param over the value of the primary (top) cell
   * @param under the value of the intersecting (bottom) cell 
   * @returns 
   */
  private computeCellValue(ink: string, over: Cell, under: boolean): boolean{
    
    let res: boolean &#x3D; utilInstance.computeFilter(ink, over.getHeddle(), under);
    return res;   
  }

  /**
   * called when creating a subdraft from the drawing on the screen. Computes the resulting value based on
   * all intersections with the drawing
   * @param ndx the i,j location of the cell we are checking
   * @param ink the currently selected ink
   * @param over the Cell we are checking against
   * @returns true/false or null
   */
  private getScratchpadProduct(ndx: Interlacement, ink: string, over: Cell): boolean{
    
    switch(ink){
      case &#x27;neq&#x27;:
      case &#x27;and&#x27;:
      case &#x27;or&#x27;:

        const p &#x3D; {x: ndx.j * this.scale, y: ndx.i * this.scale};
        const isect &#x3D; this.getIntersectingSubdraftsForPoint(p);
  
        if(isect.length &gt; 0){
          const prev: boolean &#x3D; isect[0].resolveToValue(p);
          return this.computeCellValue(ink, over, prev);
        }else{
          return this.computeCellValue(ink, over, null);
        }
      break;

      default: 
        return this.computeCellValue(ink, over, null);
      break;
    }
   return null; 
  }
 

  /**
   * draw the cell at position ndx
   * @param ndx (i,j)
   */
  private drawCell(ndx: Interlacement){

    const rel: Interlacement &#x3D; this.getRelativeInterlacement(ndx);
    const c: Cell &#x3D; this.scratch_pad[rel.i][rel.j];
    this.cx.fillStyle &#x3D; &quot;#cccccc&quot;;
  
    const selected_ink:string &#x3D; this.inks.getSelected();

    switch(selected_ink){
      case &#x27;neq&#x27;:
      case &#x27;and&#x27;:
      case &#x27;or&#x27;:

        const p &#x3D; {x: ndx.j * this.scale, y: ndx.i * this.scale};
        const isect &#x3D; this.getIntersectingSubdraftsForPoint(p);

        if(isect.length &gt; 0){
          const prev: boolean &#x3D; isect[0].resolveToValue(p);
          this.cx.fillStyle &#x3D; this.computeCellColor(selected_ink, c, prev);
        }else{
          this.cx.fillStyle &#x3D;  this.computeCellColor(selected_ink, c, null);;
        }
      break;

      default: 
        this.cx.fillStyle &#x3D; this.computeCellColor(selected_ink, c, null);
      break;

    }

      this.cx.fillRect(rel.j*this.scale, rel.i*this.scale, this.scale, this.scale);      
  }

  /**
   * Deletes the subdraft that called this function.
   */
    onDeleteSubdraftCalled(obj: any){
      
      if(obj &#x3D;&#x3D;&#x3D; null) return;
      this.removeSubdraft(obj.id);
      this.addTimelineState();
   }

     /**
   * Deletes the subdraft that called this function.
   */
      onDeleteOperationCalled(obj: any){
      
        if(obj &#x3D;&#x3D;&#x3D; null) return;
        this.removeOperation(obj.id);
        this.addTimelineState();
     }

   /**
   * Duplicates the operation that called this function.
   */
    onDuplicateOpCalled(obj: any){
      if(obj &#x3D;&#x3D;&#x3D; null) return;

      const op &#x3D; this.tree.getOpNode(obj.id);
      const op_comp &#x3D; &lt;OperationComponent&gt; this.tree.getComponent(obj.id);


      let new_bounds: Bounds &#x3D; null;


      if(this.tree.hasSingleChild(obj.id) &amp;&amp; this.tree.opHasHiddenChild(obj.id)){

        new_bounds &#x3D; {
          topleft: {x: op_comp.bounds.topleft.x + 200 + this.scale * 2, y: op_comp.bounds.topleft.y},
          width: 200,
          height: op_comp.bounds.height
        }

      }else{

        new_bounds &#x3D; {
          topleft: {x: op_comp.bounds.topleft.x + op_comp.bounds.width + this.scale * 2, y: op_comp.bounds.topleft.y},
          width: op_comp.bounds.width,
          height: op_comp.bounds.height
        }

      }


      const id: number &#x3D; this.duplicateOperation(op.name, op.params, new_bounds, op.inlets);
      const new_op &#x3D; &lt;OperationComponent&gt; this.tree.getComponent(id);

      //duplicate the connections as well
      const cxns &#x3D; this.tree.getInputsWithNdx(op.id);
      cxns.forEach(cxn &#x3D;&gt; {
        if(cxn.tn.inputs.length &gt; 0){
        const from &#x3D; cxn.tn.inputs[0].tn.node.id;
        this.createConnection(from, new_op.id, cxn.ndx);
        }
      })



      this.operationParamChanged({id: id});
      this.addTimelineState();
 }


    onDuplicateSubdraftCalled(obj: any){
        if(obj &#x3D;&#x3D;&#x3D; null) return;

        const sd &#x3D; &lt;SubdraftComponent&gt; this.tree.getComponent(obj.id);
        const sd_draft &#x3D; &lt;Draft&gt; this.tree.getDraft(obj.id);
        

      this.createSubDraft(initDraftWithParams(
        {wefts: wefts(sd_draft.drawdown), 
          warps: warps(sd_draft.drawdown), 
          drawdown: sd_draft.drawdown.slice(), 
          rowShuttleMapping: sd_draft.rowShuttleMapping.slice(),
          colShuttleMapping: sd_draft.colShuttleMapping.slice(),
          rowSystemMapping: sd_draft.rowSystemMapping.slice(),
          colSystemMapping: sd_draft.colSystemMapping.slice(),
          gen_name: getDraftName(sd_draft)+&quot; copy&quot;
        }), -1)
        .then(new_sd &#x3D;&gt; {


          new_sd.setComponentSize(sd.bounds.width, sd.bounds.height);
          new_sd.setPosition({
            x: sd.bounds.topleft.x + sd.bounds.width + this.scale *2, 
            y: sd.bounds.topleft.y});  
          //const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(new_sd.bounds.topleft, this.scale); 
          //this.viewport.addObj(new_sd.id, interlacement);
          this.addTimelineState();
        }).catch(console.error);
       
   }

  /**
   * A mouse event, originated in a subdraft, has been started
   * checkes the design mode and handles the event as required
   * @param obj contains the id of the moving subdraft
   */
  subdraftStarted(obj: any){
    if(obj &#x3D;&#x3D;&#x3D; null) return;

    if(this.dm.isSelected(&quot;move&quot;,  &#x27;design_modes&#x27;)){
  
      //get the reference to the draft that&#x27;s moving
      const moving &#x3D; &lt;SubdraftComponent&gt; this.tree.getComponent(obj.id);
      
      if(moving &#x3D;&#x3D;&#x3D; null) return; 


      this.startSnackBar(&quot;Using Ink: &quot;+moving.ink, null);
      
      const isect:Array&lt;SubdraftComponent&gt; &#x3D; this.getIntersectingSubdrafts(moving);
      const seed_drafts &#x3D; isect.filter(el &#x3D;&gt; !this.tree.hasParent(el.id)); //filter out drafts that were generated

      if(seed_drafts.length &#x3D;&#x3D;&#x3D; 0) return;
      
      const bounds: any &#x3D; utilInstance.getCombinedBounds(moving, seed_drafts);
      const temp: Draft &#x3D; this.getCombinedDraft(bounds, moving, seed_drafts);



      this.createAndSetPreview(temp).then(dn &#x3D;&gt; {
        this.tree.getPreviewComponent().setPosition(bounds.topleft);
      }).catch(console.error);
      
    }else if(this.dm.isSelected(&quot;marquee&quot;,  &#x27;design_modes&#x27;)){
      this.selectionStarted();
    }else if(this.dm.isSelected(&quot;draw&quot;,  &#x27;design_modes&#x27;)){
      this.drawStarted();
    }

 }

 /**
  * triggers a mode that allows mouse-mouse to be followed by a line.
  * todo; add code that holds the point on scroll
  * @param obj - contains event, id of component who called
  */
 onConnectionStarted(obj: any){

  const valid &#x3D; this.tree.setOpenConnection(obj.id);
  if(!valid) return;

  this.changeDesignmode(&#x27;operation&#x27;);
  this.selecting_connection &#x3D; true;

  const sd: SubdraftComponent &#x3D; &lt;SubdraftComponent&gt; this.tree.getComponent(obj.id);

  let adj: Point;

  if(sd.draft_visible)
   adj &#x3D; {x: sd.bounds.topleft.x - this.viewport.getTopLeft().x + 15, y: (sd.bounds.topleft.y+sd.bounds.height) - this.viewport.getTopLeft().y+30}
  else 
   adj &#x3D; {x: sd.bounds.topleft.x - this.viewport.getTopLeft().x + 10, y: (sd.bounds.topleft.y) - this.viewport.getTopLeft().y+30}


  this.unfreezePaletteObjects();

  this.shape_bounds &#x3D; {
    topleft: adj,
    width: this.scale,
    height: this.scale
  };

  this.startSnackBar(&quot;select an input or click an empty space to stop selecting&quot;, null);

 }






 /**
 * adds a connector flag to any subdrafts that we are allowed to connect to from this operation
 */
  // setDraftsConnectable(op_id: number){
  //   const nodes: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
  //   const op: OperationComponent &#x3D; &lt;OperationComponent&gt; this.tree.getComponent(op_id);
  //   const inputs: Array&lt;number&gt; &#x3D; this.tree.getInputs(op_id);
  //   if(inputs.length &gt;&#x3D; op.maxInputs()){
  //     nodes.forEach(el &#x3D;&gt; {
  //       el.unsetConnectable();

  //       //now unset the ones that are already assigned to other ops
  //       const connections: Array&lt;number&gt; &#x3D; this.tree.getNonCxnOutputs(el.id);
  //       const op_ndx: number &#x3D; connections.findIndex(id &#x3D;&gt; (id &#x3D;&#x3D;&#x3D; op_id));
  //       //if it had connections and the connection was not this operation, unset it
  //       if(op_ndx !&#x3D;&#x3D; -1){
  //         el.setConnectable();
  //       }    
  //     });
  //   }else{

  //     nodes.forEach(el &#x3D;&gt; {

  //       //look upstream to see if this operation is linked in any way to this op
  //       const upstream: Array&lt;number&gt; &#x3D; this.tree.getUpstreamOperations(el.id);
  //       const ndx: number &#x3D; upstream.findIndex(i &#x3D;&gt; i &#x3D;&#x3D;&#x3D; op_id);
  //       if(ndx &#x3D;&#x3D;&#x3D; -1) el.setConnectable();
  
  //       //now unset the ones that are already assigned to other ops
  //       const connections: Array&lt;number&gt; &#x3D; this.tree.getOutputs(el.id);
  //       const ops: Array&lt;number&gt; &#x3D; connections.map(cxn &#x3D;&gt; this.tree.getConnectionOutput(cxn));
  //       const op_ndx: number &#x3D; ops.findIndex(op &#x3D;&gt; (op &#x3D;&#x3D;&#x3D; op_id));
  //       //if it had connections and the connection was not this operation, unset it
  //       if(ops.length &gt; 0 &amp;&amp; op_ndx &#x3D;&#x3D;&#x3D; -1){
  //         el.unsetConnectable();
  //       }    
  
  //     });
  //   }

  //   const ops: Array&lt;OperationComponent&gt; &#x3D; this.tree.getOperations();
  //   ops.forEach(op &#x3D;&gt; {
  //     if(op.id !&#x3D; op_id) op.active_connection &#x3D; true;
  //   });
   
  //  }

    /**
 * disables selection and pointer events on all
 */
  // unsetDraftsConnectable(){
  //   const nodes: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
  //   nodes.forEach(el &#x3D;&gt; {
  //     el.unsetConnectable();
  //   });

  //   const ops: Array&lt;OperationComponent&gt; &#x3D; this.tree.getOperations();
  //   ops.forEach(op &#x3D;&gt; {
  //     op.active_connection &#x3D; false;
  //   });

  //  }

/**
 * disables selection and pointer events on all
 */
 freezePaletteObjects(){
  const nodes: Array&lt;any&gt; &#x3D; this.tree.getComponents();
  nodes.forEach(el &#x3D;&gt; {
    el.disableDrag();
  });
 }

 /**
 * unfreezes all palette objects (except connections)
 */
  unfreezePaletteObjects(){
    const nodes: Array&lt;any&gt; &#x3D; this.tree.getComponents();
    nodes.forEach(el &#x3D;&gt; {
      if(el !&#x3D; null &amp;&amp; el.type !&#x3D;&#x3D; &#x27;cxn&#x27;){
        el.enableDrag();
      } 
    });
   }
  

   /**
    * this is called when an subdraft updates its show/hide value
    */
   onSubdraftViewChange(id: number){

    this.updateAttachedComponents(id, false);

   }

      /**
    * this is called when an subdraft updates its show/hide value
    */
    onSubdraftNameChange(id: number){

      const outs &#x3D; this.tree.getNonCxnOutputs(id);
      const to_perform &#x3D; outs.map(el &#x3D;&gt; this.performAndUpdateDownstream(el));
      return Promise.all(to_perform) 
      .then(el &#x3D;&gt; 
        {
          this.addTimelineState(); 
        })
        .catch(console.error);;

       
    }
    


 /**
   * draws when a user is using the mouse to identify an input to a component
   * @param mouse the absolute position of the mouse on screen
   * @param shift boolean representing if shift is pressed as well 
   */
connectionDragged(mouse: Point, shift: boolean){

  //get the mouse position relative to the view frame
  const adj: Point &#x3D; {x: mouse.x - this.viewport.getTopLeft().x, y: mouse.y - this.viewport.getTopLeft().y}
  this.shape_bounds.width &#x3D;  (adj.x - this.shape_bounds.topleft.x);
  this.shape_bounds.height &#x3D;  (adj.y - this.shape_bounds.topleft.y);


  const svg &#x3D; document.getElementById(&#x27;scratch_svg&#x27;);
  svg.style.top &#x3D; (this.viewport.getTopLeft().y+this.shape_bounds.topleft.y)+&quot;px&quot;;
  svg.style.left &#x3D; (this.viewport.getTopLeft().x+this.shape_bounds.topleft.x)+&quot;px&quot;

 
  svg.innerHTML &#x3D; &#x27; &lt;path d&#x3D;&quot;M 0 0 C 0 50,&#x27;
  +(this.shape_bounds.width)+&#x27; &#x27;
  +(this.shape_bounds.height-50)+&#x27;, &#x27;
  +(this.shape_bounds.width)+&#x27; &#x27;
  +(this.shape_bounds.height)
  +&#x27;&quot; fill&#x3D;&quot;transparent&quot; stroke&#x3D;&quot;#ff4081&quot;  stroke-dasharray&#x3D;&quot;4 2&quot;  stroke-width&#x3D;&quot;2&quot;/&gt; &#x27; ;

 

}


/**
 * resets the view when a connection event ends
 */
 processConnectionEnd(){
  this.closeSnackBar();
  this.selecting_connection &#x3D; false;
  const svg &#x3D; document.getElementById(&#x27;scratch_svg&#x27;);
  svg.innerHTML &#x3D; &#x27; &#x27; ;

  this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
  this.changeDesignmode(&#x27;move&#x27;);

  if(!this.tree.hasOpenConnection()) return;

  
  const sd: SubdraftComponent &#x3D; this.tree.getOpenConnection();
  sd.connectionEnded();
  this.tree.unsetOpenConnection();
} 


/**
 * calculates the default topleft position for this node based on the width and size of its parent and/or neighbors
 * @param id the id of the component to position
 * @returns a promise for the updated bounds
 */
calculateInitialLocaiton(id: number) : Bounds {


  const draft &#x3D; this.tree.getDraft(id);
  
  const new_bounds &#x3D; {
    topleft: this.viewport.getTopLeft(), 
    width: warps(draft.drawdown) * this.default_cell_size,
    height: wefts(draft.drawdown) * this.default_cell_size
  }  

  //if it has a parent, align it to the bottom edge
  if(this.tree.hasParent(id)){

    const parent_id &#x3D; this.tree.getSubdraftParent(id);
    const opnode &#x3D; this.tree.getNode(parent_id);
    const parent_bounds &#x3D; opnode.component.bounds;

    //this component was just generated and needs a postion
    if(parent_bounds.topleft.x &#x3D;&#x3D; 0 &amp;&amp; parent_bounds.topleft.y &#x3D;&#x3D; 0){

      //component is not yet initalized on this calculation so we do it manually
      const default_height &#x3D;  (60 + 50 * (&lt;OpNode&gt; opnode).params.length) * this.scale/this.default_cell_size;
      new_bounds.topleft &#x3D; {x: this.viewport.getTopLeft().x + 60, y: this.viewport.getTopLeft().y + default_height};

    }else{
      new_bounds.topleft &#x3D; {x: parent_bounds.topleft.x, y: parent_bounds.topleft.y + parent_bounds.height};
    }

    const outs &#x3D; this.tree.getNonCxnOutputs(parent_id);
    if(outs.length &gt; 1){
      const this_child &#x3D; outs.findIndex(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; id);
      if(this_child &#x3D;&#x3D;&#x3D; -1){ console.error(&quot;subdraft not found in parent output list&quot;)};
      
      const updated_point: Point &#x3D; outs
      .filter((el, ndx) &#x3D;&gt; (ndx &lt; this_child))
      .reduce((acc, el, ndx) &#x3D;&gt; {
        const el_draft &#x3D; this.tree.getDraft(el);
         acc.x &#x3D; acc.x + (warps(el_draft.drawdown) + 2)*this.default_cell_size;
         return acc;
      }, new_bounds.topleft);
      
      new_bounds.topleft &#x3D; updated_point;

    }

  }
  return new_bounds;
}




/**
 * this calls a function for an operation to perform and then subsequently calls all children 
 * to recalculate. After each calculation, it redraws and or creates any new subdrafts
 * @param op_id 
 * @returns 
 */
performAndUpdateDownstream(op_id:number) : Promise&lt;any&gt;{

  this.tree.getOpNode(op_id).dirty &#x3D; true;
  this.tree.getDownstreamOperations(op_id).forEach(el &#x3D;&gt; this.tree.getNode(el).dirty &#x3D; true);

  return this.tree.performGenerationOps([op_id])
  .then(draft_ids &#x3D;&gt; {

    const fns &#x3D; this.tree.getDraftNodes()
      .filter(el &#x3D;&gt; el.component !&#x3D;&#x3D; null &amp;&amp; el.dirty)
      .map(el &#x3D;&gt; (&lt;SubdraftComponent&gt; el.component).drawDraft((&lt;DraftNode&gt;el).draft));



    //create any new subdrafts nodes
    const new_drafts &#x3D; this.tree.getDraftNodes()
      .filter(el &#x3D;&gt; el.component &#x3D;&#x3D;&#x3D; null)
      .map(el &#x3D;&gt; {
        //console.log(&quot;loading new subdraft&quot;, (&lt;DraftNode&gt;el).draft);
        return this.loadSubDraft(
          el.id, 
          (&lt;DraftNode&gt;el).draft, 
          {
            node_id: el.id,
            type: el.type,
            bounds: this.calculateInitialLocaiton(el.id),
          }, null, this.scale);
        });
      

        return  Promise.all([Promise.all(fns), Promise.all(new_drafts)]);
        
       
  }).then(el &#x3D;&gt; {
    const loads &#x3D;[];
    const new_cxns &#x3D; this.tree.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27; &amp;&amp; el.component &#x3D;&#x3D;&#x3D; null);   
    new_cxns.forEach(cxn &#x3D;&gt; {
      const from_node:Array&lt;number&gt; &#x3D; this.tree.getInputs(cxn.id);
      const to_node:Array&lt;number&gt; &#x3D; this.tree.getOutputs(cxn.id);
      if(from_node.length !&#x3D;&#x3D; 1 || to_node.length !&#x3D;&#x3D; 1) Promise.reject(&quot;connection has zero or more than one input or output&quot;);
      loads.push(this.loadConnection(cxn.id));
    })

    return Promise.all(loads);

    }
  );

}



/**
 * emitted from operation when it receives a hit on its connection button, the id refers to the operation id
 */
connectionMade(obj: any){

  console.log(&quot;connection made&quot;, obj.id);
  console.log(&quot;this.tree has open&quot;, this.tree.hasOpenConnection());

  if(!this.tree.hasOpenConnection()) return;

  //this is defined in the order that the line was drawn
  const op:OperationComponent &#x3D; &lt;OperationComponent&gt;this.tree.getComponent(obj.id);
  const sd: SubdraftComponent &#x3D; &lt;SubdraftComponent&gt; this.tree.getOpenConnection();
  
  this.createConnection(sd.id, obj.id, obj.ndx);

  this.performAndUpdateDownstream(obj.id).then(el &#x3D;&gt; {
    this.addTimelineState();
  });

  this.processConnectionEnd();

}

/**
 * Called when a connection is explicitly deleted
*/
 removeConnection(obj: {from: number, to: number, inletid: number}){

  const to_delete &#x3D; this.tree.removeConnectionNode(obj.from, obj.to, obj.inletid);  

  to_delete.forEach(node &#x3D;&gt; this.removeFromViewContainer(node.ref));

 
 // if(to_delete.length &gt; 0) console.log(&quot;Error: Removing Connection triggered other deletions&quot;);

   this.processConnectionEnd();
  
   if(this.tree.getType(obj.to)&#x3D;&#x3D;&#x3D;&quot;op&quot;){
     this.performAndUpdateDownstream(obj.to);
   }
  
  this.addTimelineState();


}

 

 selectionStarted(){

  this.selection.start &#x3D; this.last;
  this.selection.active &#x3D; true;
 }

 /**
 * brings the base canvas to view and begins to render the
 * @param mouse the absolute position of the mouse on screen
 */
shapeStarted(mouse: Point){

  const rel:Point &#x3D; {
    x: mouse.x - this.viewport.getTopLeft().x,
    y: mouse.y - this.viewport.getTopLeft().y
  }
  
  this.shape_bounds &#x3D; {
    topleft: rel,
    width: this.scale,
    height: this.scale
  };


  this.shape_vtxs &#x3D; [];
  this.canvas_zndx &#x3D; this.layers.createLayer(); //bring this canvas forward
  this.cx.fillStyle &#x3D; &quot;#ff4081&quot;;
  this.cx.fillRect( this.shape_bounds.topleft.x, this.shape_bounds.topleft.y, this.shape_bounds.width,this.shape_bounds.height);
  
  if(this.dm.isSelected(&#x27;free&#x27;, &#x27;shapes&#x27;)){
    this.startSnackBar(&quot;CTRL+Click to end drawing&quot;, this.shape_bounds);
  }else{
    this.startSnackBar(&quot;Press SHIFT while dragging to constrain shape&quot;, this.shape_bounds);
  }
 

}

  /**
   * resizes and redraws the shape between the the current mouse and where the shape started
   * @param mouse the absolute position of the mouse on screen
   */
shapeDragged(mouse: Point, shift: boolean){

  const rel:Point &#x3D; {
    x: mouse.x - this.viewport.getTopLeft().x,
    y: mouse.y - this.viewport.getTopLeft().y
  }

  this.shape_bounds.width &#x3D;  (rel.x - this.shape_bounds.topleft.x);
  this.shape_bounds.height &#x3D;  (rel.y - this.shape_bounds.topleft.y);

  if(shift){
    const max: number &#x3D; Math.max(this.shape_bounds.width, this.shape_bounds.height);
    
    //allow lines to snap to coords
    if(this.dm.isSelected(&#x27;line&#x27;, &#x27;shapes&#x27;)){
        if(Math.abs(this.shape_bounds.width) &lt; Math.abs(this.shape_bounds.height/2)){
          this.shape_bounds.height &#x3D; max;
          this.shape_bounds.width &#x3D; this.scale;
        }else if(Math.abs(this.shape_bounds.height) &lt; Math.abs(this.shape_bounds.width/2)){
          this.shape_bounds.width &#x3D; max;
          this.shape_bounds.height &#x3D; this.scale;
        }else{
          this.shape_bounds.width &#x3D; max;
          this.shape_bounds.height &#x3D; max;  
        }
        
    }else{
      this.shape_bounds.width &#x3D; max;
      this.shape_bounds.height &#x3D; max;    
  
    }
  }

  this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
  this.cx.beginPath();
  this.cx.fillStyle &#x3D; &quot;#ff4081&quot;;
  this.cx.strokeStyle &#x3D; &quot;#ff4081&quot;;
  this.cx.setLineDash([]);
  this.cx.lineWidth &#x3D; this.scale;

  if(this.dm.isSelected(&#x27;line&#x27;, &#x27;shapes&#x27;)){
    this.cx.moveTo(this.shape_bounds.topleft.x+this.scale, this.shape_bounds.topleft.y+this.scale);
    this.cx.lineTo(this.shape_bounds.topleft.x + this.shape_bounds.width, this.shape_bounds.topleft.y + this.shape_bounds.height);
    this.cx.stroke();
  }else if(this.dm.isSelected(&#x27;fill_circle&#x27;,&#x27;shapes&#x27;)){
    this.shape_bounds.width &#x3D; Math.abs(this.shape_bounds.width);
    this.shape_bounds.height &#x3D; Math.abs(this.shape_bounds.height);
    this.cx.ellipse(this.shape_bounds.topleft.x, this.shape_bounds.topleft.y, this.shape_bounds.width, this.shape_bounds.height, 2 * Math.PI, 0,  this.shape_bounds.height/2);
    this.cx.fill();
  }else if(this.dm.isSelected(&#x27;stroke_circle&#x27;,&#x27;shapes&#x27;)){
    this.cx.ellipse(this.shape_bounds.topleft.x, this.shape_bounds.topleft.y, this.shape_bounds.width, this.shape_bounds.height, 2 * Math.PI, 0,  this.shape_bounds.height/2);
    this.cx.stroke();
  }else if(this.dm.isSelected(&#x27;fill_rect&#x27;,&#x27;shapes&#x27;)){
    this.cx.fillRect(this.shape_bounds.topleft.x, this.shape_bounds.topleft.y,this.shape_bounds.width,this.shape_bounds.height);
  
  }else if(this.dm.isSelected(&#x27;stroke_rect&#x27;,&#x27;shapes&#x27;)){
    this.cx.strokeRect(this.shape_bounds.topleft.x + this.scale, this.shape_bounds.topleft.y+ this.scale,this.shape_bounds.width- this.scale,this.shape_bounds.height-this.scale);

  }else{

    if(this.shape_vtxs.length &gt; 1){
      this.cx.moveTo(this.shape_vtxs[0].x, this.shape_vtxs[0].y);

      for(let i &#x3D; 1; i &lt; this.shape_vtxs.length; i++){
        this.cx.lineTo(this.shape_vtxs[i].x, this.shape_vtxs[i].y);
        //this.cx.moveTo(this.shape_vtxs[i].x, this.shape_vtxs[i].y);
      }

    }else{
      this.cx.moveTo(this.shape_bounds.topleft.x, this.shape_bounds.topleft.y);
    }

    this.cx.lineTo(this.shape_bounds.topleft.x + this.shape_bounds.width, this.shape_bounds.topleft.y + this.shape_bounds.height);
    this.cx.stroke();
    this.cx.fill();
    
  }

  if(this.dm.isSelected(&#x27;free&#x27;, &#x27;shapes&#x27;)){
    this.updateSnackBar(&quot;CTRL+click to end drawing&quot;, this.shape_bounds);
  }else{
    this.updateSnackBar(&quot;Press SHIFT to contstrain shape&quot;, this.shape_bounds);
  }
}

/**
 * converts the shape on screen to a component
 */
processShapeEnd() : Promise&lt;any&gt; {

  this.closeSnackBar();

  //if circle, the topleft functoins as the center and the bounsd need to expand to fit the entire shape 
  if(this.dm.isSelected(&#x27;fill_circle&#x27;, &#x27;shapes&#x27;) || this.dm.isSelected(&#x27;stroke_circle&#x27;, &#x27;shapes&#x27;)){
    this.shape_bounds.topleft.x -&#x3D;  this.shape_bounds.width;
    this.shape_bounds.topleft.y -&#x3D;  this.shape_bounds.height;
    this.shape_bounds.width *&#x3D;2;
    this.shape_bounds.height *&#x3D; 2;
  }else if(this.dm.isSelected(&#x27;free&#x27;,&#x27;shapes&#x27;)){
    
    if(this.shape_vtxs.length &#x3D;&#x3D;&#x3D; 0) return;
      //default to current segment
    let top &#x3D; this.shape_bounds.topleft.y;
    let left &#x3D; this.shape_bounds.topleft.x;
    let bottom &#x3D; this.shape_bounds.topleft.y +this.shape_bounds.height;
    let right &#x3D; this.shape_bounds.topleft.x +this.shape_bounds.width;
    
    //iteraate through the poitns and find the leftmost and topmost 
    for(let i &#x3D; 1; i &lt; this.shape_vtxs.length; i++ ){
        if(this.shape_vtxs[i].y &lt; top) top &#x3D; this.shape_vtxs[i].y;
        if(this.shape_vtxs[i].x &lt; left) left &#x3D; this.shape_vtxs[i].x;
        if(this.shape_vtxs[i].y &gt; bottom) bottom &#x3D; this.shape_vtxs[i].y;
        if(this.shape_vtxs[i].x &gt; right) right &#x3D; this.shape_vtxs[i].x;
    }

    this.shape_bounds.topleft &#x3D; {x: left, y: top};
    this.shape_bounds.width &#x3D; right - left;
    this.shape_bounds.height &#x3D; bottom - top;

    this.shape_vtxs &#x3D; [];
    
  }else{
    if( this.shape_bounds.width &lt; 0){
      this.shape_bounds.width &#x3D; Math.abs(this.shape_bounds.width);
      this.shape_bounds.topleft.x-&#x3D; this.shape_bounds.width
    }  

    if( this.shape_bounds.height &lt; 0){
      this.shape_bounds.height &#x3D; Math.abs(this.shape_bounds.height);
      this.shape_bounds.topleft.y-&#x3D; this.shape_bounds.height
    }  
  }

  const shape: Shape &#x3D; new Shape(this.canvas, this.shape_bounds, this.scale); 
  //const img_data &#x3D; shape.getImageData();
  // this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
  // this.cx.putImageData(img_data, 0, 0);
  const pattern: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; shape.getDraft();

  const wefts: number &#x3D; pattern.length;
  if(wefts &lt;&#x3D; 0) return;
  const warps: number &#x3D; pattern[0].length;

  this.shape_bounds.topleft.x +&#x3D; this.viewport.getTopLeft().x;
  this.shape_bounds.topleft.y +&#x3D; this.viewport.getTopLeft().y;
  

  return this.createSubDraft(initDraftWithParams({wefts: wefts,  warps: warps, pattern: pattern}), -1)
  .then(sd &#x3D;&gt; {
    sd.setPosition(this.shape_bounds.topleft);
    sd.setComponentSize(this.shape_bounds.width, this.shape_bounds.height);
    const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(sd.bounds.topleft, this.scale); 
    this.viewport.addObj(sd.id, interlacement);
    this.addTimelineState();
  }).catch(console.error);
  

  
}

/**
 * clears the scratchpad for the new drawing event
 */
drawStarted(){


  this.canvas_zndx &#x3D; this.layers.createLayer(); //bring this canvas forward
  
  this.scratch_pad &#x3D; [];
  for(let i &#x3D; 0; i &lt; this.canvas.height; i+&#x3D;this.scale ){
      const row &#x3D; [];
      for(let j &#x3D; 0; j&lt; this.canvas.width; j+&#x3D;this.scale ){
          row.push(new Cell(null));
      }
    this.scratch_pad.push(row);
    }

    this.startSnackBar(&quot;Drag to Draw&quot;, null);
  }


  /**
   * gets the bounds of a drawing on the scratchpad, a drawing is represented by set cells
   * @returns an object representing the bounds in the format of i, j (the row, column index of the pad)
   */
  getScratchPadBounds(): Array&lt;Interlacement&gt;{
    let bottom: number &#x3D; 0;
    let right: number &#x3D; 0;
    let top: number &#x3D; this.scratch_pad.length-1;
    let left: number &#x3D; this.scratch_pad[0].length-1;

    for(let i &#x3D; 0; i &lt; this.scratch_pad.length; i++ ){
      for(let j &#x3D; 0; j&lt;  this.scratch_pad[0].length; j++){
        if((this.scratch_pad[i][j].isSet())){
          if(i &lt; top) top &#x3D; i;
          if(j &lt; left) left &#x3D; j;
          if(i &gt; bottom) bottom &#x3D; i;
          if(j &gt; right) right &#x3D; j;
        } 
      }
    }

    return [{i: top, j: left, si: -1}, {i: bottom, j: right, si: -1}];

  }

  /**
   * handles checks and actions to take when drawing event ends
   * gets the boudary of drawn segment and creates a subdraft containing that drawing
   * if the drawing sits on top of an existing subdraft, merge the drawing into that subdraft (extending the original if neccessary)
   * @returns 
   */
  processDrawingEnd (): Promise&lt;any&gt; {


    this.canvas_zndx &#x3D; -1;

    if(this.scratch_pad &#x3D;&#x3D;&#x3D; undefined) return;
    if(this.scratch_pad[0] &#x3D;&#x3D;&#x3D; undefined) return;
    
    const corners: Array&lt;Interlacement&gt; &#x3D; this.getScratchPadBounds();
    const warps &#x3D; corners[1].j - corners[0].j + 1;
    const wefts &#x3D; corners[1].i - corners[0].i + 1;


    //there must be at least one cell selected
    if(warps &lt; 1 || wefts &lt; 1){
      this.scratch_pad &#x3D; undefined;
      return Promise.resolve(false);
    } 


    const pattern: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; [];
    for(let i &#x3D; 0; i &lt; wefts; i++ ){
      pattern.push([]);
      for(let j &#x3D; 0; j&lt; warps; j++){
        const c &#x3D; this.scratch_pad[corners[0].i+i][corners[0].j+j];
        const b &#x3D; this.getScratchpadProduct({i:i, j:j, si:-1}, this.inks.getSelected(),c);
        pattern[i].push(new Cell(b));
      }
    }

    //if this drawing does not intersect with any existing subdrafts, 
    return this.createSubDraft(initDraftWithParams({wefts: wefts,  warps: warps, pattern: pattern}), -1)
    .then(sd &#x3D;&gt; {
      const pos &#x3D; {
        topleft: {x: this.viewport.getTopLeft().x + (corners[0].j * this.scale), y: this.viewport.getTopLeft().y + (corners[0].i * this.scale)},
        width: warps * this.scale,
        height: wefts * this.scale
      }
  
      sd.setPosition(pos.topleft);
      sd.setComponentSize(pos.width, pos.height);
      sd.disableDrag();

  
      const had_merge &#x3D; this.mergeSubdrafts(sd);
      this.addTimelineState();
    });
   

  }

  /**
   * update the viewport when the window is resized
   * @param event 
   */
  @HostListener(&#x27;window:resize&#x27;, [&#x27;$event&#x27;])
    onResize(event) {

      this.viewport.setWidth(event.target.innerWidth);
      this.viewport.setHeight(event.target.innerHeight);

      this.canvas.width &#x3D; this.viewport.getWidth();
      this.canvas.height &#x3D; this.viewport.getHeight();
    }


 /**
  * handles actions to take when the mouse is down inside of the palette
  * @param event the mousedown event
  */
  @HostListener(&#x27;mousedown&#x27;, [&#x27;$event&#x27;])
    private onStart(event) {

      const ctrl: boolean &#x3D; event.ctrlKey;
      const mouse:Point &#x3D; {x: this.viewport.getTopLeft().x + event.clientX, y:this.viewport.getTopLeft().y+event.clientY};
      const ndx:any &#x3D; utilInstance.resolveCoordsToNdx(mouse, this.scale);

      //use this to snap the mouse to the nearest coord
      mouse.x &#x3D; ndx.j * this.scale;
      mouse.y &#x3D; ndx.i * this.scale;

      
      this.last &#x3D; ndx;
      this.selection.start &#x3D; this.last;
      this.removeSubscription();    
      
     

      if(this.dm.getDesignMode(&quot;marquee&quot;,&#x27;design_modes&#x27;).selected){
          this.selectionStarted();
          this.moveSubscription &#x3D; 
          fromEvent(event.target, &#x27;mousemove&#x27;).subscribe(e &#x3D;&gt; this.onDrag(e)); 
    
      }else if(this.dm.isSelected(&quot;draw&quot;,&#x27;design_modes&#x27;)){
        this.moveSubscription &#x3D; 
        fromEvent(event.target, &#x27;mousemove&#x27;).subscribe(e &#x3D;&gt; this.onDrag(e)); 
  
          this.drawStarted();    
          this.setCell(ndx);
          this.drawCell(ndx); 
      }else if(this.dm.isSelected(&quot;shape&quot;,&#x27;design_modes&#x27;)){
        this.moveSubscription &#x3D; 
        fromEvent(event.target, &#x27;mousemove&#x27;).subscribe(e &#x3D;&gt; this.onDrag(e)); 
  

        if(this.dm.isSelected(&#x27;free&#x27;,&#x27;shapes&#x27;)){
          if(ctrl){
            this.processShapeEnd().then(el &#x3D;&gt; {
              this.changeDesignmode(&#x27;move&#x27;);
              this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            });
          }else{
            if(this.shape_vtxs.length &#x3D;&#x3D; 0) this.shapeStarted(mouse);
            this.shape_vtxs.push(mouse);
          }
            
          
        }else{
          this.shapeStarted(mouse);
        }
      }else if(this.dm.isSelected(&quot;operation&quot;,&#x27;design_modes&#x27;)){
        this.processConnectionEnd();
        this.changeDesignmode(&#x27;move&#x27;);
      }
  }


  @HostListener(&#x27;mousemove&#x27;, [&#x27;$event&#x27;])
  private onMove(event) {
    const shift: boolean &#x3D; event.shiftKey;
    const mouse:Point &#x3D; {x: this.viewport.getTopLeft().x + event.clientX, y:this.viewport.getTopLeft().y+event.clientY};
    const ndx:any &#x3D; utilInstance.resolveCoordsToNdx(mouse, this.scale);
    mouse.x &#x3D; ndx.j * this.scale;
    mouse.y &#x3D; ndx.i * this.scale;

    if(this.dm.isSelected(&#x27;free&#x27;,&#x27;shapes&#x27;) &amp;&amp; this.shape_vtxs.length &gt; 0){
     this.shapeDragged(mouse, shift);
    }else if(this.selecting_connection){
      this.connectionDragged(mouse, shift);
    }
  }
  
 /**
  * called when the operation input is selected and used to draw
   * @param event the event object
   */
  mouseSelectingDraft(event: any, id: number){

    const shift: boolean &#x3D; event.shiftKey;
    const mouse: Point &#x3D; {x: this.viewport.getTopLeft().x + event.clientX, y:this.viewport.getTopLeft().y+event.clientY};
    const ndx:Interlacement &#x3D; utilInstance.resolveCoordsToNdx(mouse, this.scale);
    //use this to snap the mouse to the nearest coord
    mouse.x &#x3D; ndx.j * this.scale;
    mouse.y &#x3D; ndx.i * this.scale;

    if(utilInstance.isSameNdx(this.last, ndx)) return;

    // if(this.dm.getDesignMode(&quot;operation&quot;,&#x27;design_modes&#x27;).selected){

     
    
    // }
    
    this.last &#x3D; ndx;
  }

  /**
   * called form the subscription created on start, checks the index of the location and returns null if its the same
   * @param event the event object
   */
  onDrag(event){


    const shift: boolean &#x3D; event.shiftKey;
    const mouse: Point &#x3D; {x: this.viewport.getTopLeft().x + event.clientX, y:this.viewport.getTopLeft().y+event.clientY};
    const ndx:Interlacement &#x3D; utilInstance.resolveCoordsToNdx(mouse, this.scale);

    //use this to snap the mouse to the nearest coord
    mouse.x &#x3D; ndx.j * this.scale;
    mouse.y &#x3D; ndx.i * this.scale;

    if(utilInstance.isSameNdx(this.last, ndx)) return;

    if(this.dm.getDesignMode(&quot;marquee&quot;,&#x27;design_modes&#x27;).selected){

     this.drawSelection(ndx);
     const bounds:Bounds &#x3D; this.getSelectionBounds(this.selection.start,  this.last);    
     this.selection.setPositionAndSize(bounds);

    
    }else if(this.dm.getDesignMode(&quot;draw&quot;, &#x27;design_modes&#x27;).selected){
      this.setCell(ndx);
      this.drawCell(ndx);
    }else if(this.dm.getDesignMode(&quot;shape&quot;,&#x27;design_modes&#x27;).selected){
      this.shapeDragged(mouse, shift);
    }
    
    this.last &#x3D; ndx;
  }

  

/**
 * Called when the mouse is up or leaves the boundary of the view
 * @param event 
 * @returns 
 */
  @HostListener(&#x27;mouseleave&#x27;, [&#x27;$event&#x27;])
  @HostListener(&#x27;mouseup&#x27;, [&#x27;$event&#x27;])
     private onEnd(event) {

      //if this.last is null, we have a mouseleave with no mousestart
      if(this.last &#x3D;&#x3D;&#x3D; undefined) return;
    
      const mouse: Point &#x3D; {x: this.viewport.getTopLeft().x + event.clientX, y:this.viewport.getTopLeft().y+event.clientY};
      const ndx:Interlacement &#x3D; utilInstance.resolveCoordsToNdx(mouse, this.scale);
      //use this to snap the mouse to the nearest coord
      mouse.x &#x3D; ndx.j * this.scale;
      mouse.y &#x3D; ndx.i * this.scale;

      this.removeSubscription();   

      if(this.dm.getDesignMode(&quot;marquee&quot;,&#x27;design_modes&#x27;).selected){
        if(this.selection.active) this.processSelection();
        this.closeSnackBar();
        this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.changeDesignmode(&#x27;move&#x27;);


      }else if(this.dm.isSelected(&quot;draw&quot;,&#x27;design_modes&#x27;)){
       
        this.processDrawingEnd().then(el &#x3D;&gt; {
          this.closeSnackBar();
          this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
          this.changeDesignmode(&#x27;move&#x27;);
          this.scratch_pad &#x3D; undefined;
        }).catch(console.error);
      



      }else if(this.dm.isSelected(&quot;shape&quot;,&#x27;design_modes&#x27;)){
        if(!this.dm.isSelected(&#x27;free&#x27;,&#x27;shapes&#x27;)){
          
          this.processShapeEnd().then(el &#x3D;&gt; {
            this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.changeDesignmode(&#x27;move&#x27;);
           
         });
        }
          
      }

      //unset vars that would have been created on press
      this.last &#x3D; undefined;
      this.selection.active &#x3D; false;
      this.canvas_zndx &#x3D; -1; 
  }
  
 
  /**
   * Called when a selection operation ends. Checks to see if this selection intersects with any subdrafts and 
   * merges and or splits as required. 
   */
  processSelection(){

    this.closeSnackBar();

    //create the selection as subdraft
    const bounds:Bounds &#x3D; this.getSelectionBounds(this.selection.start,  this.last);    
    
    
    this.createSubDraft(initDraftWithParams({wefts: bounds.height/this.scale, warps: bounds.width/this.scale}), -1)
    .then(sc &#x3D;&gt; {
      sc.setComponentBounds(bounds);
       //get any subdrafts that intersect the one we just made
      const isect:Array&lt;SubdraftComponent&gt; &#x3D; this.getIntersectingSubdrafts(sc);

      if(isect.length &#x3D;&#x3D;&#x3D; 0){
        this.addTimelineState();
        return;
      } 

       //get a draft that reflects only the poitns in the selection view
      const new_draft: Draft &#x3D; this.getCombinedDraft(bounds, sc, isect);
      this.tree.setDraftOnly(sc.id, new_draft)
    

    isect.forEach(el &#x3D;&gt; {
      const ibound &#x3D; utilInstance.getIntersectionBounds(sc, el);

      if(el.isSameBoundsAs(ibound)){
         console.log(&quot;Component had same Bounds as Intersection, Consumed&quot;);
         this.removeSubdraft(el.id);
      }

    });
    this.addTimelineState();
    })
    .catch(console.error);
   
    
    
   

  }


  /**
   * this function will update any components that should move when the compoment passed by obj moves
   * moves all compoments returned from tree.getNodesToUpdate(). All changes to what updates should be 
   * handled by getNodesToUpdateOnMove
   * @param obj 
   */
  updateAttachedComponents(id: number, follow: boolean){

    //start by moving the original object than ripple out;
    const moving : any &#x3D; this.tree.getComponent(id);

    this.tree.getInputs(id).forEach(cxn &#x3D;&gt; {
       const comp: ConnectionComponent &#x3D; &lt;ConnectionComponent&gt;this.tree.getComponent(cxn);
       comp.updateToPosition(moving);
    });

    this.tree.getOutputs(id).forEach(cxn &#x3D;&gt; {
      const comp: ConnectionComponent &#x3D; &lt;ConnectionComponent&gt;this.tree.getComponent(cxn);
      comp.updateFromPosition(moving);
   });

   if(!follow) return;

   const outs: Array&lt;number&gt; &#x3D; this.tree.getNonCxnOutputs(id);

   //if this an operation with one child, move the child. 
   if(this.tree.getType(moving.id) &#x3D;&#x3D;&#x3D; &quot;op&quot; &amp;&amp; outs.length &#x3D;&#x3D;&#x3D; 1){
      const out &#x3D; &lt;SubdraftComponent&gt; this.tree.getComponent(outs[0]);
      if(this.tree.getType(out.id) &#x3D;&#x3D;&#x3D; &#x27;draft&#x27;) out.updatePositionFromParent(moving);
      this.updateAttachedComponents(out.id, false);
    }

    const ins &#x3D; this.tree.getNonCxnInputs(id);
    //if this is a draft with a parent, move the parent as well 
    if(this.tree.getType(moving.id) &#x3D;&#x3D;&#x3D; &quot;draft&quot; &amp;&amp; !this.tree.isSibling(moving.id)){
      ins.forEach(input &#x3D;&gt; {
        const in_comp: OperationComponent &#x3D; &lt;OperationComponent&gt; this.tree.getComponent(input);
        in_comp.updatePositionFromChild(moving);
        this.updateAttachedComponents(in_comp.id, false);
      });
    }
      
   
  }


  /**
   * emitted from a subdraft when an internal action has changeded its value 
   * checks for a child subdraft, recomputes, redraws. 
   * @param obj with attribute id describing the subdraft that called this
   * @returns 
   */
  onSubdraftAction(obj: any){

    if(obj &#x3D;&#x3D;&#x3D; null) return;

    const outputs &#x3D; this.tree.getNonCxnOutputs(obj.id);
    const fns &#x3D; outputs.map(out &#x3D;&gt; this.performAndUpdateDownstream(out));
    Promise.all(fns).then(el &#x3D;&gt; {
      this.addTimelineState();
      this.changeDesignmode(&#x27;move&#x27;);
    })



  }

  /**
   * emitted from an operatioin when its param has changed. This is automatically called on load 
   * which is annoying because it recomputes everything!
   * checks for a child subdraft, recomputes, redraws. 
   * @param obj with attribute id describing the operation that called this
   * @returns 
   */
   async operationParamChanged(obj: any){

    if(obj &#x3D;&#x3D;&#x3D; null) return;

    return this.tree.sweepInlets(obj.id)
      .then(viewRefs &#x3D;&gt; {
        viewRefs.forEach(el &#x3D;&gt; {
          this.removeFromViewContainer(el)
        });
        this.performAndUpdateDownstream(obj.id)
      } )
      .then(el &#x3D;&gt; {
        this.addTimelineState();
      })
      .catch(console.error);
   
    

  }


/**
 * called from an operatiino cmoponent when it is dragged
 * @param obj (id, point of toplleft)
 */
  operationMoved(obj: any){
    if(obj &#x3D;&#x3D;&#x3D; null) return;

    //get the reference to the draft that&#x27;s moving
    const moving &#x3D; &lt;OperationComponent&gt; this.tree.getComponent(obj.id);
    if(moving &#x3D;&#x3D;&#x3D; null) return; 
    this.updateSnackBar(&quot;moving opereation &quot;+moving.name,moving.bounds);
    this.updateAttachedComponents(obj.id, true);

  }

  /**
 * called from an operation component when it is done moving 
 * this allows us to not write postioin continuously, but just once on end
 * @param obj (id, point of toplleft)
 */
   operationMoveEnded(obj: any){
    if(obj &#x3D;&#x3D;&#x3D; null) return;

    this.addTimelineState();

  }




  /**
   * called when subdraft component says its moving
   * @param obj the subdraft that called this
   * @returns 
   */
  subdraftMoved(obj: any){


      if(obj &#x3D;&#x3D;&#x3D; null) return;
  
      //get the reference to the draft that&#x27;s moving
      const moving &#x3D; &lt;SubdraftComponent&gt; this.tree.getComponent(obj.id);
      
      if(moving &#x3D;&#x3D;&#x3D; null) return; 


      this.updateSnackBar(&quot;Using Ink: &quot;+moving.ink,null);
      this.updateAttachedComponents(moving.id, true);


      const isect:Array&lt;SubdraftComponent&gt; &#x3D; this.getIntersectingSubdrafts(moving);
      const seed_drafts &#x3D; isect.filter(el &#x3D;&gt; !this.tree.hasParent(el.id)); //filter out drafts that were generated

      if(seed_drafts.length &#x3D;&#x3D;&#x3D; 0){
        if(this.tree.hasPreview()) this.removePreview();
        return;
      } 

      const bounds: Bounds &#x3D; utilInstance.getCombinedBounds(moving, seed_drafts);
      const temp: Draft &#x3D; this.getCombinedDraft(bounds, moving, seed_drafts);
      


      if(this.tree.hasPreview()) {
       
        this.tree.setPreviewDraft(temp).then(dn &#x3D;&gt; {
          dn.component.bounds &#x3D; bounds;
         (&lt;SubdraftComponent&gt; dn.component).setPosition(bounds.topleft)
        });
      }else{
        this.createAndSetPreview(temp).then(dn &#x3D;&gt; {
          dn.component.bounds &#x3D; bounds;
          (&lt;SubdraftComponent&gt; dn.component).setPosition(bounds.topleft)
        }).catch(console.error);
      } 
    
    }


   /**
    * checks if this subdraft has been dropped onto of another and merges them accordingly 
    * @param obj 
    * @returns 
    */
  subdraftDropped(obj: any){

    this.closeSnackBar();

     if(obj &#x3D;&#x3D;&#x3D; null) return;
  
      //creaet a subdraft of this intersection
      if(this.tree.hasPreview()){

        const preview_node &#x3D; this.tree.getPreview();
        const preview_draft &#x3D; preview_node.draft;
        let to_right &#x3D; (&lt;SubdraftComponent&gt; preview_node.component).getTopleft();

        this.createSubDraft(initDraftWithParams({wefts: wefts(preview_draft.drawdown), warps: warps(preview_draft.drawdown)}), -1)
        .then(component &#x3D;&gt; {
          this.tree.setDraftPattern(component.id, preview_draft.drawdown);
          //this.redrawDirtyDrafts();
          to_right.x +&#x3D; preview_node.component.bounds.width + this.scale *4;
          component.setPosition(to_right);
          component.setComponentSize(preview_node.component.bounds.width, preview_node.component.bounds.height);
          component.zndx &#x3D; this.layers.createLayer();
          this.removePreview();
          const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(component.bounds.topleft, this.scale);
          this.viewport.addObj(component.id, interlacement);
          this.addTimelineState();
          this.tree.unsetPreview();
        })
        .catch(console.error);

      } else{
        this.addTimelineState();
        this.tree.unsetPreview();
      
        //get the reference to the draft that&#x27;s moving
        const moving &#x3D; this.tree.getComponent(obj.id);
        const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(moving.bounds.topleft, this.scale);
        this.viewport.updatePoint(moving.id, interlacement);
      }


  }

  /**
   * merges a collection of subdraft components into the primary component, deletes the merged components
   * @param primary the draft to merge into
   * @returns true or false to describe if a merge took place. 
   */
  mergeSubdrafts(primary: SubdraftComponent): boolean{

    const isect:Array&lt;SubdraftComponent&gt; &#x3D; this.getIntersectingSubdrafts(primary);

      if(isect.length &#x3D;&#x3D; 0){
        return false;
      }   

      const bounds: Bounds &#x3D; utilInstance.getCombinedBounds(primary, isect);
      const temp: Draft &#x3D; this.getCombinedDraft(bounds, primary, isect);

      this.tree.setDraftOnly(primary.id, temp);
      primary.setPosition(bounds.topleft);
      //primary.drawDraft();
      const interlacement &#x3D; utilInstance.resolvePointToAbsoluteNdx(primary.bounds.topleft, this.scale);

      this.viewport.updatePoint(primary.id, interlacement);


    //remove the intersecting drafts from the view containier and from subrefts
    isect.forEach(element &#x3D;&gt; {
      this.removeSubdraft(element.id);
    });
    return true;
  }

  computeHeddleValue(p:Point, main: SubdraftComponent, isect: Array&lt;SubdraftComponent&gt;):boolean{
    const a:boolean &#x3D; main.resolveToValue(p);
    //this may return an empty array, because the intersection might not have the point
    const b_array:Array&lt;SubdraftComponent&gt; &#x3D; isect.filter(el &#x3D;&gt; el.hasPoint(p));

    //should never have more than one value in barray
    // if(b_array.length &gt; 1) console.log(&quot;WARNING: Intersecting with Two Elements&quot;);

    const val:boolean &#x3D; b_array.reduce((acc:boolean, arr) &#x3D;&gt; arr.resolveToValue(p), null);   
    
    return utilInstance.computeFilter(main.ink, a, val);
  }



  getSubdraftsIntersectingSelection(selection: MarqueeComponent){

    //find intersections between main and the others
    const drafts: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
    const isect:Array&lt;SubdraftComponent&gt; &#x3D; drafts.filter(sr &#x3D;&gt; (utilInstance.doOverlap(
      selection.bounds.topleft, 
      {x:  selection.bounds.topleft.x + selection.bounds.width, y: selection.bounds.topleft.y + selection.bounds.height}, 
      sr.getTopleft(), 
      {x: sr.getTopleft().x + sr.bounds.width, y: sr.getTopleft().y + sr.bounds.height}
      ) ? sr : null));

    return isect;
  
  }


 /**
   * get any subdrafts that intersect a given screen position
   * @param p the x, y position of this cell 
   * @returns 
   */
  getIntersectingSubdraftsForPoint(p: any){

    const primary_topleft &#x3D; {x:  p.x, y: p.y };
    const primary_bottomright &#x3D; {x:  p.x + this.scale, y: p.y + this.scale};

    const isect:Array&lt;SubdraftComponent&gt; &#x3D; [];
    const drafts: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
    drafts.forEach(sr &#x3D;&gt; {
      let sr_bottomright &#x3D; {x: sr.getTopleft().x + sr.bounds.width, y: sr.getTopleft().y + sr.bounds.height};
      const b: boolean &#x3D; utilInstance.doOverlap(primary_topleft, primary_bottomright, sr.getTopleft(), sr_bottomright);
      if(b) isect.push(sr);
     });

    return isect;
  }

  /**
   * get any subdrafts that intersect primary based on checks on their boundaries
   * @param primary 
   * @returns 
   */
  getIntersectingSubdrafts(primary: SubdraftComponent){

    const primary_draft &#x3D; this.tree.getDraft(primary.id);
    const drafts:Array&lt;DraftNode&gt; &#x3D;  this.tree.getDraftNodes(); 
    const to_check:Array&lt;DraftNode&gt; &#x3D;  drafts.filter(sr &#x3D;&gt; (sr.draft.id.toString() !&#x3D;&#x3D; primary_draft.id.toString()));
    const primary_bottomright &#x3D; {x:  primary.getTopleft().x + primary.bounds.width, y: primary.getTopleft().y + primary.bounds.height};


     const isect:Array&lt;SubdraftComponent&gt; &#x3D; [];
     to_check
     .map(el &#x3D;&gt; &lt;SubdraftComponent&gt; this.tree.getComponent(el.id))
     .forEach(sr &#x3D;&gt; {
      let sr_bottomright &#x3D; {x: sr.getTopleft().x + sr.bounds.width, y: sr.getTopleft().y + sr.bounds.height};
      const b: boolean &#x3D; utilInstance.doOverlap(primary.getTopleft(), primary_bottomright, sr.getTopleft(), sr_bottomright);
      if(b) isect.push(sr);
     });

    return isect;
  }

  getSelectionBounds(c1: any, c2: any): Bounds{
      let bottomright &#x3D; {x: 0, y:0};
      let bounds:Bounds &#x3D; {
        topleft:{x: 0, y:0},
        width: 0,
        height: 0
      }
      if(c1.i &lt; c2.i){
        bounds.topleft.y &#x3D; c1.i * this.scale;
        bottomright.y &#x3D; c2.i * this.scale;
      }else{
        bounds.topleft.y &#x3D; c2.i * this.scale;
        bottomright.y &#x3D; c1.i * this.scale;
      }

      if(c1.j &lt; c2.j){
        bounds.topleft.x &#x3D; c1.j * this.scale;
        bottomright.x &#x3D; c2.j * this.scale;
      }else{
        bounds.topleft.x &#x3D; c1.j * this.scale;
        bottomright.x &#x3D; c2.j * this.scale;
      }

      bounds.width &#x3D; bottomright.x - bounds.topleft.x;
      bounds.height &#x3D; bottomright.y - bounds.topleft.y;

      return bounds;
  }

      /**
     * creates a draft in size bounds that contains all of the computed points of its intersections
     * @param bounds the boundary of all the intersections
     * @param primary the primary draft that we are checking for intersections
     * @param isect an Array of the intersecting components
     * @returns 
     */
       getCombinedDraft(bounds: Bounds, primary: SubdraftComponent, isect: Array&lt;SubdraftComponent&gt;):Draft{
  
        const primary_draft &#x3D; this.tree.getDraft(primary.id);

        const temp: Draft &#x3D; initDraftWithParams({
          id: primary_draft.id, 
          gen_name: getDraftName(primary_draft), 
          warps: Math.floor(bounds.width / this.scale), 
          wefts: Math.floor(bounds.height / this.scale)});
    
        for(var i &#x3D; 0; i &lt; wefts(temp.drawdown); i++){
          const top: number &#x3D; bounds.topleft.y + (i * this.scale);
          for(var j &#x3D; 0; j &lt; warps(temp.drawdown); j++){
            const left: number &#x3D; bounds.topleft.x + (j * this.scale);
    
            const p &#x3D; {x: left, y: top};
            const val &#x3D; this.computeHeddleValue(p, primary, isect);
            if(val !&#x3D; null) temp.drawdown[i][j].setHeddle(val);
            else temp.drawdown[i][j].unsetHeddle();
          }
        }
        return temp;
      }



      /**
       * TODO: Update this to get bounds and print all items, not just what&#x27;s visible
       * @param obj 
       * @returns 
       */
  getPrintableCanvas(obj): HTMLCanvasElement{

    this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    const drafts: Array&lt;SubdraftComponent&gt; &#x3D; this.tree.getDrafts();
    drafts.forEach(sd &#x3D;&gt; {
      sd.drawForPrint(this.canvas, this.cx, this.scale);
    });

    const ops: Array&lt;OperationComponent&gt; &#x3D; this.tree.getOperations();
    ops.forEach(op &#x3D;&gt; {
      op.drawForPrint(this.canvas, this.cx, this.scale);
    });

    const cxns: Array&lt;ConnectionComponent&gt; &#x3D; this.tree.getConnections();
    cxns.forEach(cxn &#x3D;&gt; {
      cxn.drawForPrint(this.canvas, this.cx, this.scale);
    });

    // this.note_components.forEach(note &#x3D;&gt;{
    //   note.drawForPrint(this.canvas, this.cx, this.scale);
    // })

    return this.canvas;

  }

  clearCanvas(){
    this.cx.clearRect(0, 0, this.canvas.width, this.canvas.height);
  }

  redrawOpenModals(){
    const comps &#x3D; this.tree.getDrafts();
    comps.forEach(sd &#x3D;&gt; {
      if(sd.modal !&#x3D;&#x3D; undefined &amp;&amp; sd.modal.componentInstance !&#x3D;&#x3D; null){
        sd.modal.componentInstance.redraw();
      }
    })
  }
    
  redrawAllSubdrafts(){
      const comps &#x3D; this.tree.getDrafts();
      comps.forEach(sd &#x3D;&gt; {
        sd.redrawExistingDraft();
      })
    }
  }</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html"> &lt;!--render each of the subdrafts as an SVG Element to take advantage of intersection--&gt;

&lt;ng-container #vc&gt;
  &lt;div id&#x3D;&quot;palette&quot;  class&#x3D;&quot;palette-container&quot; [class.no-pointer]&#x3D;&quot;!pointer_events&quot; [style.width.px]&#x3D;&quot;viewport.getAbsoluteWidth()&quot;  [style.height.px]&#x3D;&quot;viewport.getAbsoluteHeight()&quot;&gt;

    &lt;!-- &lt;p&gt;Pi: {{pedals.pi_online.val}}&lt;/p&gt;
    &lt;p&gt;Loom: {{pedals.loom_online.val}}&lt;/p&gt;
    &lt;p&gt;Vacuum: {{pedals.vacuum_on.val}}&lt;/p&gt;
    &lt;p&gt;Active Draft? {{pedals.active_draft.val}}&lt;/p&gt;
    &lt;p&gt;Num Pedals: {{pedals.num_pedals.val}}&lt;/p&gt;
    &lt;p&gt;Pedal Vals: {{pedals.p_pedal_array.toString()}}&lt;/p&gt;
    &lt;p&gt;Loom Ready? {{pedals.loom_ready.val}}&lt;/p&gt;
    &lt;p&gt;Num Picks: {{pedals.num_picks.val}}&lt;/p&gt;
    &lt;p&gt;Pick Data: {{pedals.pick_data.val}}&lt;/p&gt; --&gt;

    
  &lt;/div&gt;

  &lt;svg id&#x3D;&quot;scratch_svg&quot;&gt;
      
  &lt;/svg&gt;

  &lt;canvas id&#x3D;&quot;scratch&quot; [style.z-index]&#x3D;&quot;canvas_zndx&quot; [class.no-pointer]&#x3D;&quot;!pointer_events&quot; [style.left.px]&#x3D;&quot;viewport.vp.topleft.x&quot; [style.top.px]&#x3D;&quot;viewport.vp.topleft.y&quot;&gt;&lt;/canvas&gt;
&lt;/ng-container&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./palette.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">div{
    position: absolute;
    top: 0;
    left: 0;
    // width: 16384px; //max
    // height: 16384px;
    background:#cccccc;
    z-index: -1;
    background-size: 5px 5px;
    background-image:
    linear-gradient(to right, #c2c1c1 .5px, transparent .5px),
    linear-gradient(to bottom, #c2c1c1 .5px, transparent .5px);
    

}

svg{
    position: absolute;
}


canvas{
    position: absolute;
    top: 0px;
    left: 0px;
    overflow: scroll;
}

.no-pointer{
    pointer-events: none;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div> <!--render each of the subdrafts as an SVG Element to take advantage of intersection--><ng-container #vc>  <div id="palette"  class="palette-container" [class.no-pointer]="!pointer_events" [style.width.px]="viewport.getAbsoluteWidth()"  [style.height.px]="viewport.getAbsoluteHeight()">    <!-- <p>Pi: {{pedals.pi_online.val}}</p>    <p>Loom: {{pedals.loom_online.val}}</p>    <p>Vacuum: {{pedals.vacuum_on.val}}</p>    <p>Active Draft? {{pedals.active_draft.val}}</p>    <p>Num Pedals: {{pedals.num_pedals.val}}</p>    <p>Pedal Vals: {{pedals.p_pedal_array.toString()}}</p>    <p>Loom Ready? {{pedals.loom_ready.val}}</p>    <p>Num Picks: {{pedals.num_picks.val}}</p>    <p>Pick Data: {{pedals.pick_data.val}}</p> -->      </div>  <svg id="scratch_svg">        </svg>  <canvas id="scratch" [style.z-index]="canvas_zndx" [class.no-pointer]="!pointer_events" [style.left.px]="viewport.vp.topleft.x" [style.top.px]="viewport.vp.topleft.y"></canvas></ng-container></div>'
    var COMPONENTS = [{'name': 'ChainOpMenuComponent', 'selector': 'app-menu-chain'},{'name': 'ConnectionComponent', 'selector': 'app-connection'},{'name': 'DraftdetailComponent', 'selector': 'app-draftdetail'},{'name': 'ImageComponent', 'selector': 'app-image'},{'name': 'InletComponent', 'selector': 'app-inlet'},{'name': 'MixerComponent', 'selector': 'app-mixer'},{'name': 'MixerViewComponent', 'selector': 'app-mixerview'},{'name': 'NoteComponent', 'selector': 'app-note'},{'name': 'OpButtonComponent', 'selector': 'app-op-button'},{'name': 'OperationComponent', 'selector': 'app-operation'},{'name': 'OperationComponent', 'selector': 'app-operation'},{'name': 'OpHelpModal', 'selector': 'app-ophelp'},{'name': 'OpsComponent', 'selector': 'app-ops'},{'name': 'OpSequencerComponent', 'selector': 'app-sequencer'},{'name': 'PaletteComponent', 'selector': 'app-palette'},{'name': 'ParameterComponent', 'selector': 'app-parameter'},{'name': 'ParameterComponent', 'selector': 'app-parameter'},{'name': 'PedalComponent', 'selector': 'app-pedal'},{'name': 'PedalsComponent', 'selector': 'app-pedals'},{'name': 'PlaybackComponent', 'selector': 'app-playback'},{'name': 'PlayerComponent', 'selector': 'app-player'},{'name': 'SingleOpMenuComponent', 'selector': 'app-menu-single'},{'name': 'SnackbarComponent', 'selector': 'app-snackbar'},{'name': 'SubdraftComponent', 'selector': 'app-subdraft'},{'name': 'VirtualPedalsComponent', 'selector': 'app-virtual-pedals'},{'name': 'WeavingStateComponent', 'selector': 'app-weaving-state'}];
    var DIRECTIVES = [{'name': 'MarqueeComponent', 'selector': 'app-marquee'},{'name': 'SelectionComponent', 'selector': 'app-selection'}];
    var ACTUAL_COMPONENT = {'name': 'PaletteComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'PaletteComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
